(()=>{var iS=Object.create;var gE=Object.defineProperty;var AS=Object.getOwnPropertyDescriptor;var sS=Object.getOwnPropertyNames;var pS=Object.getPrototypeOf,vS=Object.prototype.hasOwnProperty;var oa=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var uS=(r,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let E of sS(e))!vS.call(r,E)&&E!==t&&gE(r,E,{get:()=>e[E],enumerable:!(a=AS(e,E))||a.enumerable});return r};var At=(r,e,t)=>(t=r!=null?iS(pS(r)):{},uS(e||!r||!r.__esModule?gE(t,"default",{value:r,enumerable:!0}):t,r));var Da=oa((qu,cn)=>{"use strict";function da(r){return typeof r=="function"}var _r=console.error.bind(console);function ye(r,e,t){var a=!!r[e]&&r.propertyIsEnumerable(e);Object.defineProperty(r,e,{configurable:!0,enumerable:a,writable:!0,value:t})}function Ge(r){r&&r.logger&&(da(r.logger)?_r=r.logger:_r("new logger isn't a function, not replacing"))}function un(r,e,t){if(!r||!r[e]){_r("no original function "+e+" to wrap");return}if(!t){_r("no wrapper function"),_r(new Error().stack);return}if(!da(r[e])||!da(t)){_r("original object and wrapper must be functions");return}var a=r[e],E=t(a,e);return ye(E,"__original",a),ye(E,"__unwrap",function(){r[e]===E&&ye(r,e,a)}),ye(E,"__wrapped",!0),ye(r,e,E),E}function eT(r,e,t){if(r)Array.isArray(r)||(r=[r]);else{_r("must provide one or more modules to patch"),_r(new Error().stack);return}if(!(e&&Array.isArray(e))){_r("must provide one or more functions to wrap on modules");return}r.forEach(function(a){e.forEach(function(E){un(a,E,t)})})}function Nn(r,e){if(!r||!r[e]){_r("no function to unwrap."),_r(new Error().stack);return}if(!r[e].__unwrap)_r("no original to unwrap to -- has "+e+" already been unwrapped?");else return r[e].__unwrap()}function tT(r,e){if(r)Array.isArray(r)||(r=[r]);else{_r("must provide one or more modules to patch"),_r(new Error().stack);return}if(!(e&&Array.isArray(e))){_r("must provide one or more functions to unwrap on modules");return}r.forEach(function(t){e.forEach(function(a){Nn(t,a)})})}Ge.wrap=un;Ge.massWrap=eT;Ge.unwrap=Nn;Ge.massUnwrap=tT;cn.exports=Ge});var Io=oa((Qe,Kt)=>{(function(r,e){"use strict";var t="1.0.40",a="",E="?",n="function",o="undefined",_="object",i="string",S="major",T="model",A="name",s="type",p="vendor",v="version",l="architecture",f="console",N="mobile",c="tablet",D="smarttv",y="wearable",X="embedded",k=500,j="Amazon",Z="Apple",$="ASUS",H="BlackBerry",er="Browser",u="Chrome",M="Edge",C="Firefox",L="Google",P="Huawei",Y="LG",x="Microsoft",U="Motorola",O="Opera",g="Samsung",d="Sharp",B="Sony",Or="Xiaomi",nr="Zebra",Ar="Facebook",Hr="Chromium OS",Ue="Mac OS",ot=" Browser",_t=function(w,F){var V={};for(var W in w)F[W]&&F[W].length%2===0?V[W]=F[W].concat(w[W]):V[W]=w[W];return V},dr=function(w){for(var F={},V=0;V<w.length;V++)F[w[V].toUpperCase()]=w[V];return F},St=function(w,F){return typeof w===i?ie(F).indexOf(ie(w))!==-1:!1},ie=function(w){return w.toLowerCase()},SS=function(w){return typeof w===i?w.replace(/[^\d\.]/g,a).split(".")[0]:e},Ea=function(w,F){if(typeof w===i)return w=w.replace(/^\s\s*/,a),typeof F===o?w:w.substring(0,k)},me=function(w,F){for(var V=0,W,Vr,Dr,K,m,fr;V<F.length&&!m;){var na=F[V],VE=F[V+1];for(W=Vr=0;W<na.length&&!m&&na[W];)if(m=na[W++].exec(w),m)for(Dr=0;Dr<VE.length;Dr++)fr=m[++Vr],K=VE[Dr],typeof K===_&&K.length>0?K.length===2?typeof K[1]==n?this[K[0]]=K[1].call(this,fr):this[K[0]]=K[1]:K.length===3?typeof K[1]===n&&!(K[1].exec&&K[1].test)?this[K[0]]=fr?K[1].call(this,fr,K[2]):e:this[K[0]]=fr?fr.replace(K[1],K[2]):e:K.length===4&&(this[K[0]]=fr?K[3].call(this,fr.replace(K[1],K[2])):e):this[K]=fr||e;V+=2}},Tt=function(w,F){for(var V in F)if(typeof F[V]===_&&F[V].length>0){for(var W=0;W<F[V].length;W++)if(St(F[V][W],w))return V===E?e:V}else if(St(F[V],w))return V===E?e:V;return F.hasOwnProperty("*")?F["*"]:w},TS={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},hE={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},xE={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[A,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[A,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[A,v],[/opios[\/ ]+([\w\.]+)/i],[v,[A,O+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[A,O+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[A,O]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[A,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[A,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[A,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[A,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[A,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[A,"UC"+er]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[A,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[A,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[A,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[A,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[A,"Smart Lenovo "+er]],[/(avast|avg)\/([\w\.]+)/i],[[A,/(.+)/,"$1 Secure "+er],v],[/\bfocus\/([\w\.]+)/i],[v,[A,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[A,O+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[A,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[A,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[A,O+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[A,"MIUI"+ot]],[/fxios\/([\w\.-]+)/i],[v,[A,C]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[A,"360"]],[/\b(qq)\/([\w\.]+)/i],[[A,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[A,/(.+)/,"$1"+ot],v],[/samsungbrowser\/([\w\.]+)/i],[v,[A,g+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[A,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[A,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[A,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[A],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,A],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[A,Ar],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[A,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[A,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[A,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[A,u+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[A,u+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[A,"Android "+er]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[A,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[A,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,A],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[A,[v,Tt,TS]],[/(webkit|khtml)\/([\w\.]+)/i],[A,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[A,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[A,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[A,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[A,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[A,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,ie]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[l,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[l,"armhf"]],[/windows (ce|mobile); ppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[l,/ower/,a,ie]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[l,ie]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[T,[p,g],[s,c]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[T,[p,g],[s,N]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[T,[p,Z],[s,N]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[T,[p,Z],[s,c]],[/(macintosh);/i],[T,[p,Z]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[T,[p,d],[s,N]],[/(?:honor)([-\w ]+)[;\)]/i],[T,[p,"Honor"],[s,N]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[T,[p,P],[s,c]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[T,[p,P],[s,N]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[T,/_/g," "],[p,Or],[s,N]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[T,/_/g," "],[p,Or],[s,c]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[T,[p,"OPPO"],[s,N]],[/\b(opd2\d{3}a?) bui/i],[T,[p,"OPPO"],[s,c]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[T,[p,"Vivo"],[s,N]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[T,[p,"Realme"],[s,N]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[T,[p,U],[s,N]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[T,[p,U],[s,c]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[T,[p,Y],[s,c]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[T,[p,Y],[s,N]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[T,[p,"Lenovo"],[s,c]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[T,/_/g," "],[p,"Nokia"],[s,N]],[/(pixel c)\b/i],[T,[p,L],[s,c]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[T,[p,L],[s,N]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[T,[p,B],[s,N]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[T,"Xperia Tablet"],[p,B],[s,c]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[T,[p,"OnePlus"],[s,N]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[T,[p,j],[s,c]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[T,/(.+)/g,"Fire Phone $1"],[p,j],[s,N]],[/(playbook);[-\w\),; ]+(rim)/i],[T,p,[s,c]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[T,[p,H],[s,N]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[T,[p,$],[s,c]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[T,[p,$],[s,N]],[/(nexus 9)/i],[T,[p,"HTC"],[s,c]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[T,/_/g," "],[s,N]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[T,[p,"TCL"],[s,c]],[/(itel) ((\w+))/i],[[p,ie],T,[s,Tt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[T,[p,"Acer"],[s,c]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[T,[p,"Meizu"],[s,N]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[T,[p,"Ulefone"],[s,N]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[T,[p,"Energizer"],[s,N]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[T,[p,"Cat"],[s,N]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[T,[p,"Smartfren"],[s,N]],[/droid.+; (a(?:015|06[35]|142p?))/i],[T,[p,"Nothing"],[s,N]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,T,[s,N]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,T,[s,c]],[/(surface duo)/i],[T,[p,x],[s,c]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[T,[p,"Fairphone"],[s,N]],[/(u304aa)/i],[T,[p,"AT&T"],[s,N]],[/\bsie-(\w*)/i],[T,[p,"Siemens"],[s,N]],[/\b(rct\w+) b/i],[T,[p,"RCA"],[s,c]],[/\b(venue[\d ]{2,7}) b/i],[T,[p,"Dell"],[s,c]],[/\b(q(?:mv|ta)\w+) b/i],[T,[p,"Verizon"],[s,c]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[T,[p,"Barnes & Noble"],[s,c]],[/\b(tm\d{3}\w+) b/i],[T,[p,"NuVision"],[s,c]],[/\b(k88) b/i],[T,[p,"ZTE"],[s,c]],[/\b(nx\d{3}j) b/i],[T,[p,"ZTE"],[s,N]],[/\b(gen\d{3}) b.+49h/i],[T,[p,"Swiss"],[s,N]],[/\b(zur\d{3}) b/i],[T,[p,"Swiss"],[s,c]],[/\b((zeki)?tb.*\b) b/i],[T,[p,"Zeki"],[s,c]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],T,[s,c]],[/\b(ns-?\w{0,9}) b/i],[T,[p,"Insignia"],[s,c]],[/\b((nxa|next)-?\w{0,9}) b/i],[T,[p,"NextBook"],[s,c]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],T,[s,N]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],T,[s,N]],[/\b(ph-1) /i],[T,[p,"Essential"],[s,N]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[T,[p,"Envizen"],[s,c]],[/\b(trio[-\w\. ]+) b/i],[T,[p,"MachSpeed"],[s,c]],[/\btu_(1491) b/i],[T,[p,"Rotor"],[s,c]],[/(shield[\w ]+) b/i],[T,[p,"Nvidia"],[s,c]],[/(sprint) (\w+)/i],[p,T,[s,N]],[/(kin\.[onetw]{3})/i],[[T,/\./g," "],[p,x],[s,N]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[T,[p,nr],[s,c]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[T,[p,nr],[s,N]],[/smart-tv.+(samsung)/i],[p,[s,D]],[/hbbtv.+maple;(\d+)/i],[[T,/^/,"SmartTV"],[p,g],[s,D]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,Y],[s,D]],[/(apple) ?tv/i],[p,[T,Z+" TV"],[s,D]],[/crkey/i],[[T,u+"cast"],[p,L],[s,D]],[/droid.+aft(\w+)( bui|\))/i],[T,[p,j],[s,D]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[T,[p,d],[s,D]],[/(bravia[\w ]+)( bui|\))/i],[T,[p,B],[s,D]],[/(mitv-\w{5}) bui/i],[T,[p,Or],[s,D]],[/Hbbtv.*(technisat) (.*);/i],[p,T,[s,D]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Ea],[T,Ea],[s,D]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[s,D]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,T,[s,f]],[/droid.+; (shield) bui/i],[T,[p,"Nvidia"],[s,f]],[/(playstation [345portablevi]+)/i],[T,[p,B],[s,f]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[T,[p,x],[s,f]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[T,[p,g],[s,y]],[/((pebble))app/i],[p,T,[s,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[T,[p,Z],[s,y]],[/droid.+; (glass) \d/i],[T,[p,L],[s,y]],[/droid.+; (wt63?0{2,3})\)/i],[T,[p,nr],[s,y]],[/droid.+; (glass) \d/i],[T,[p,L],[s,y]],[/(pico) (4|neo3(?: link|pro)?)/i],[p,T,[s,y]],[/; (quest( \d| pro)?)/i],[T,[p,Ar],[s,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[s,X]],[/(aeobc)\b/i],[T,[p,j],[s,X]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[T,[s,N]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[T,[s,c]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[s,c]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[s,N]],[/(android[-\w\. ]{0,9});.+buil/i],[T,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[A,M+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[A,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[A,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[A,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,A]],os:[[/microsoft (windows) (vista|xp)/i],[A,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[A,[v,Tt,hE]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,Tt,hE],[A,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[A,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[A,Ue],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,A],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[A,v],[/\(bb(10);/i],[v,[A,H]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[A,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[A,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[A,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[A,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[A,u+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[A,Hr],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[A,v],[/(sunos) ?([\w\.\d]*)/i],[[A,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[A,v]]},Sr=function(w,F){if(typeof w===_&&(F=w,w=e),!(this instanceof Sr))return new Sr(w,F).getResult();var V=typeof r!==o&&r.navigator?r.navigator:e,W=w||(V&&V.userAgent?V.userAgent:a),Vr=V&&V.userAgentData?V.userAgentData:e,Dr=F?_t(xE,F):xE,K=V&&V.userAgent==W;return this.getBrowser=function(){var m={};return m[A]=e,m[v]=e,me.call(m,W,Dr.browser),m[S]=SS(m[v]),K&&V&&V.brave&&typeof V.brave.isBrave==n&&(m[A]="Brave"),m},this.getCPU=function(){var m={};return m[l]=e,me.call(m,W,Dr.cpu),m},this.getDevice=function(){var m={};return m[p]=e,m[T]=e,m[s]=e,me.call(m,W,Dr.device),K&&!m[s]&&Vr&&Vr.mobile&&(m[s]=N),K&&m[T]=="Macintosh"&&V&&typeof V.standalone!==o&&V.maxTouchPoints&&V.maxTouchPoints>2&&(m[T]="iPad",m[s]=c),m},this.getEngine=function(){var m={};return m[A]=e,m[v]=e,me.call(m,W,Dr.engine),m},this.getOS=function(){var m={};return m[A]=e,m[v]=e,me.call(m,W,Dr.os),K&&!m[A]&&Vr&&Vr.platform&&Vr.platform!="Unknown"&&(m[A]=Vr.platform.replace(/chrome os/i,Hr).replace(/macos/i,Ue)),m},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return W},this.setUA=function(m){return W=typeof m===i&&m.length>k?Ea(m,k):m,this},this.setUA(W),this};Sr.VERSION=t,Sr.BROWSER=dr([A,v,S]),Sr.CPU=dr([l]),Sr.DEVICE=dr([T,p,s,f,N,D,c,y,X]),Sr.ENGINE=Sr.OS=dr([A,v]),typeof Qe!==o?(typeof Kt!==o&&Kt.exports&&(Qe=Kt.exports=Sr),Qe.UAParser=Sr):typeof define===n&&define.amd?define(function(){return Sr}):typeof r!==o&&(r.UAParser=Sr);var Ae=typeof r!==o&&(r.jQuery||r.Zepto);if(Ae&&!Ae.ua){var it=new Sr;Ae.ua=it.getResult(),Ae.ua.get=function(){return it.getUA()},Ae.ua.set=function(w){it.setUA(w);var F=it.getResult();for(var V in F)Ae.ua[V]=F[V]}}})(typeof window=="object"?window:Qe)});var a_=oa((wM,Ze)=>{(function(r,e){if(!r)return;var t={},a=r.TraceKit,E=[].slice,n="?",o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function _(S,T){return Object.prototype.hasOwnProperty.call(S,T)}function i(S){return typeof S>"u"}t.noConflict=function(){return r.TraceKit=a,t},t.wrap=function(T){function A(){try{return T.apply(this,arguments)}catch(s){throw t.report(s),s}}return A},t.report=function(){var T=[],A=null,s=null;function p(u){k(),Z(),T.push(u)}function v(u){for(var M=T.length-1;M>=0;--M)T[M]===u&&T.splice(M,1);T.length===0&&(j(),$())}function l(u,M,C){var L=null;if(!(M&&!t.collectWindowErrors)){for(var P in T)if(_(T,P))try{T[P](u,M,C)}catch(Y){L=Y}if(L)throw L}}var f,N,c,D;function y(u,M,C,L,P){var Y=null;if(s)t.computeStackTrace.augmentStackTraceWithInitialElement(s,M,C,u),H();else if(P)Y=t.computeStackTrace(P),l(Y,!0,P);else{var x={url:M,line:C,column:L},U,O=u;if({}.toString.call(u)==="[object String]"){var g=u.match(o);g&&(U=g[1],O=g[2])}x.func=t.computeStackTrace.guessFunctionName(x.url,x.line),x.context=t.computeStackTrace.gatherContext(x.url,x.line),Y={name:U,message:O,mode:"onerror",stack:[x]},l(Y,!0,null)}return f?f.apply(this,arguments):!1}function X(u){var M=t.computeStackTrace(u.reason);l(M,!0,u.reason)}function k(){N!==!0&&(f=r.onerror,r.onerror=y,N=!0)}function j(){N&&(r.onerror=f,N=!1)}function Z(){D!==!0&&(c=r.onunhandledrejection,r.onunhandledrejection=X,D=!0)}function $(){D&&(r.onunhandledrejection=c,D=!1)}function H(){var u=s,M=A;s=null,A=null,l(u,!1,M)}function er(u){if(s){if(A===u)return;H()}var M=t.computeStackTrace(u);throw s=M,A=u,setTimeout(function(){A===u&&H()},M.incomplete?2e3:0),u}return er.subscribe=p,er.unsubscribe=v,er}(),t.computeStackTrace=function(){var T=!1,A={};function s(u){if(!t.remoteFetching)return"";try{var M=function(){try{return new r.XMLHttpRequest}catch{return new r.ActiveXObject("Microsoft.XMLHTTP")}},C=M();return C.open("GET",u,!1),C.send(""),C.responseText}catch{return""}}function p(u){if(typeof u!="string")return[];if(!_(A,u)){var M="",C="";try{C=r.document.domain}catch{}var L=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(u);L&&L[2]===C&&(M=s(u)),A[u]=M?M.split(`
`):[]}return A[u]}function v(u,M){var C=/function ([^(]*)\(([^)]*)\)/,L=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,P="",Y=10,x=p(u),U;if(!x.length)return n;for(var O=0;O<Y;++O)if(P=x[M-O]+P,!i(P)){if(U=L.exec(P))return U[1];if(U=C.exec(P))return U[1]}return n}function l(u,M){var C=p(u);if(!C.length)return null;var L=[],P=Math.floor(t.linesOfContext/2),Y=P+t.linesOfContext%2,x=Math.max(0,M-P-1),U=Math.min(C.length,M+Y-1);M-=1;for(var O=x;O<U;++O)i(C[O])||L.push(C[O]);return L.length>0?L:null}function f(u){return u.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function N(u){return f(u).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function c(u,M){for(var C,L,P=0,Y=M.length;P<Y;++P)if((C=p(M[P])).length&&(C=C.join(`
`),L=u.exec(C)))return{url:M[P],line:C.substring(0,L.index).split(`
`).length,column:L.index-C.lastIndexOf(`
`,L.index)-1};return null}function D(u,M,C){var L=p(M),P=new RegExp("\\b"+f(u)+"\\b"),Y;return C-=1,L&&L.length>C&&(Y=P.exec(L[C]))?Y.index:null}function y(u){if(!i(r&&r.document)){for(var M=[r.location.href],C=r.document.getElementsByTagName("script"),L,P=""+u,Y=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,x=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,U,O,g,d=0;d<C.length;++d){var B=C[d];B.src&&M.push(B.src)}if(!(O=Y.exec(P)))U=new RegExp(f(P).replace(/\s+/g,"\\s+"));else{var Or=O[1]?"\\s+"+O[1]:"",nr=O[2].split(",").join("\\s*,\\s*");L=f(O[3]).replace(/;$/,";?"),U=new RegExp("function"+Or+"\\s*\\(\\s*"+nr+"\\s*\\)\\s*{\\s*"+L+"\\s*}")}if(g=c(U,M))return g;if(O=x.exec(P)){var Ar=O[1];if(L=N(O[2]),U=new RegExp("on"+Ar+`=[\\'"]\\s*`+L+`\\s*[\\'"]`,"i"),(g=c(U,M[0]))||(U=new RegExp(L),g=c(U,M)))return g}return null}}function X(u){if(!u.stack)return null;for(var M=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,C=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,L=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,P,Y=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,x=/\((\S*)(?::(\d+))(?::(\d+))\)/,U=u.stack.split(`
`),O=[],g,d,B,Or=/^(.*) is undefined$/.exec(u.message),nr=0,Ar=U.length;nr<Ar;++nr){if(d=M.exec(U[nr])){var Hr=d[2]&&d[2].indexOf("native")===0;P=d[2]&&d[2].indexOf("eval")===0,P&&(g=x.exec(d[2]))&&(d[2]=g[1],d[3]=g[2],d[4]=g[3]),B={url:Hr?null:d[2],func:d[1]||n,args:Hr?[d[2]]:[],line:d[3]?+d[3]:null,column:d[4]?+d[4]:null}}else if(d=L.exec(U[nr]))B={url:d[2],func:d[1]||n,args:[],line:+d[3],column:d[4]?+d[4]:null};else if(d=C.exec(U[nr]))P=d[3]&&d[3].indexOf(" > eval")>-1,P&&(g=Y.exec(d[3]))?(d[3]=g[1],d[4]=g[2],d[5]=null):nr===0&&!d[5]&&!i(u.columnNumber)&&(O[0].column=u.columnNumber+1),B={url:d[3],func:d[1]||n,args:d[2]?d[2].split(","):[],line:d[4]?+d[4]:null,column:d[5]?+d[5]:null};else continue;!B.func&&B.line&&(B.func=v(B.url,B.line)),B.context=B.line?l(B.url,B.line):null,O.push(B)}return O.length?(O[0]&&O[0].line&&!O[0].column&&Or&&(O[0].column=D(Or[1],O[0].url,O[0].line)),{mode:"stack",name:u.name,message:u.message,stack:O}):null}function k(u){var M=u.stacktrace;if(M){for(var C=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,L=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,P=M.split(`
`),Y=[],x,U=0;U<P.length;U+=2){var O=null;if((x=C.exec(P[U]))?O={url:x[2],line:+x[1],column:null,func:x[3],args:[]}:(x=L.exec(P[U]))&&(O={url:x[6],line:+x[1],column:+x[2],func:x[3]||x[4],args:x[5]?x[5].split(","):[]}),O){if(!O.func&&O.line&&(O.func=v(O.url,O.line)),O.line)try{O.context=l(O.url,O.line)}catch{}O.context||(O.context=[P[U+1]]),Y.push(O)}}return Y.length?{mode:"stacktrace",name:u.name,message:u.message,stack:Y}:null}}function j(u){var M=u.message.split(`
`);if(M.length<4)return null;var C=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,L=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,P=/^\s*Line (\d+) of function script\s*$/i,Y=[],x=r&&r.document&&r.document.getElementsByTagName("script"),U=[],O;for(var g in x)_(x,g)&&!x[g].src&&U.push(x[g]);for(var d=2;d<M.length;d+=2){var B=null;if(O=C.exec(M[d]))B={url:O[2],func:O[3],args:[],line:+O[1],column:null};else if(O=L.exec(M[d])){B={url:O[3],func:O[4],args:[],line:+O[1],column:null};var Or=+O[1],nr=U[O[2]-1];if(nr){var Ar=p(B.url);if(Ar){Ar=Ar.join(`
`);var Hr=Ar.indexOf(nr.innerText);Hr>=0&&(B.line=Or+Ar.substring(0,Hr).split(`
`).length)}}}else if(O=P.exec(M[d])){var Ue=r.location.href.replace(/#.*$/,""),ot=new RegExp(N(M[d+1])),_t=c(ot,[Ue]);B={url:Ue,func:"",args:[],line:_t?_t.line:O[1],column:null}}if(B){B.func||(B.func=v(B.url,B.line));var dr=l(B.url,B.line),St=dr?dr[Math.floor(dr.length/2)]:null;dr&&St.replace(/^\s*/,"")===M[d+1].replace(/^\s*/,"")?B.context=dr:B.context=[M[d+1]],Y.push(B)}}return Y.length?{mode:"multiline",name:u.name,message:M[0],stack:Y}:null}function Z(u,M,C,L){var P={url:M,line:C};if(P.url&&P.line){u.incomplete=!1,P.func||(P.func=v(P.url,P.line)),P.context||(P.context=l(P.url,P.line));var Y=/ '([^']+)' /.exec(L);if(Y&&(P.column=D(Y[1],P.url,P.line)),u.stack.length>0&&u.stack[0].url===P.url){if(u.stack[0].line===P.line)return!1;if(!u.stack[0].line&&u.stack[0].func===P.func)return u.stack[0].line=P.line,u.stack[0].context=P.context,!1}return u.stack.unshift(P),u.partial=!0,!0}else u.incomplete=!0;return!1}function $(u,M){for(var C=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,L=[],P={},Y=!1,x,U,O,g=$.caller;g&&!Y;g=g.caller)if(!(g===H||g===t.report)){if(U={url:null,func:n,args:[],line:null,column:null},g.name?U.func=g.name:(x=C.exec(g.toString()))&&(U.func=x[1]),typeof U.func>"u")try{U.func=x.input.substring(0,x.input.indexOf("{"))}catch{}if(O=y(g)){U.url=O.url,U.line=O.line,U.func===n&&(U.func=v(U.url,U.line));var d=/ '([^']+)' /.exec(u.message||u.description);d&&(U.column=D(d[1],O.url,O.line))}P[""+g]?Y=!0:P[""+g]=!0,L.push(U)}M&&L.splice(0,M);var B={mode:"callers",name:u.name,message:u.message,stack:L};return Z(B,u.sourceURL||u.fileName,u.line||u.lineNumber,u.message||u.description),B}function H(u,M){var C=null;M=M==null?0:+M;try{if(C=k(u),C)return C}catch(L){if(T)throw L}try{if(C=X(u),C)return C}catch(L){if(T)throw L}try{if(C=j(u),C)return C}catch(L){if(T)throw L}try{if(C=$(u,M+1),C)return C}catch(L){if(T)throw L}return{name:u.name,message:u.message,mode:"failed"}}function er(u){u=(u==null?0:+u)+1;try{throw new Error}catch(M){return H(M,u+1)}}return H.augmentStackTraceWithInitialElement=Z,H.computeStackTraceFromStackProp=X,H.guessFunctionName=v,H.gatherContext=l,H.ofCaller=er,H.getSource=p,H}(),t.extendToAsynchronousCallbacks=function(){var S=function(A){var s=r[A];r[A]=function(){var v=E.call(arguments),l=v[0];return typeof l=="function"&&(v[0]=t.wrap(l)),s.apply?s.apply(this,v):s(v[0],v[1])}};S("setTimeout"),S("setInterval")},t.remoteFetching||(t.remoteFetching=!0),t.collectWindowErrors||(t.collectWindowErrors=!0),(!t.linesOfContext||t.linesOfContext<1)&&(t.linesOfContext=11),typeof define=="function"&&define.amd?define("TraceKit",[],t):typeof Ze<"u"&&Ze.exports&&r.module!==Ze?Ze.exports=t:r.TraceKit=t})(typeof window<"u"?window:global)});var BE=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var gr="1.9.0";var bE=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function NS(r){var e=new Set([r]),t=new Set,a=r.match(bE);if(!a)return function(){return!1};var E={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(E.prerelease!=null)return function(i){return i===r};function n(_){return t.add(_),!1}function o(_){return e.add(_),!0}return function(i){if(e.has(i))return!0;if(t.has(i))return!1;var S=i.match(bE);if(!S)return n(i);var T={major:+S[1],minor:+S[2],patch:+S[3],prerelease:S[4]};return T.prerelease!=null||E.major!==T.major?n(i):E.major===0?E.minor===T.minor&&E.patch<=T.patch?o(i):n(i):E.minor<=T.minor?o(i):n(i)}}var yE=NS(gr);var cS=gr.split(".")[0],he=Symbol.for("opentelemetry.js.api."+cS),xe=BE;function Ir(r,e,t,a){var E;a===void 0&&(a=!1);var n=xe[he]=(E=xe[he])!==null&&E!==void 0?E:{version:gr};if(!a&&n[r]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+r);return t.error(o.stack||o.message),!1}if(n.version!==gr){var o=new Error("@opentelemetry/api: Registration of version v"+n.version+" for "+r+" does not match previously registered API v"+gr);return t.error(o.stack||o.message),!1}return n[r]=e,t.debug("@opentelemetry/api: Registered a global for "+r+" v"+gr+"."),!0}function Tr(r){var e,t,a=(e=xe[he])===null||e===void 0?void 0:e.version;if(!(!a||!yE(a)))return(t=xe[he])===null||t===void 0?void 0:t[r]}function Ur(r,e){e.debug("@opentelemetry/api: Unregistering a global for "+r+" v"+gr+".");var t=xe[he];t&&delete t[r]}var RS=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},OS=function(r,e,t){if(t||arguments.length===2)for(var a=0,E=e.length,n;a<E;a++)(n||!(a in e))&&(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return r.concat(n||Array.prototype.slice.call(e))},GE=function(){function r(e){this._namespace=e.namespace||"DiagComponentLogger"}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ve("debug",this._namespace,e)},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ve("error",this._namespace,e)},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ve("info",this._namespace,e)},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ve("warn",this._namespace,e)},r.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ve("verbose",this._namespace,e)},r}();function Ve(r,e,t){var a=Tr("diag");if(a)return t.unshift(e),a[r].apply(a,OS([],RS(t),!1))}var G;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(G||(G={}));function YE(r,e){r<G.NONE?r=G.NONE:r>G.ALL&&(r=G.ALL),e=e||{};function t(a,E){var n=e[a];return typeof n=="function"&&r>=E?n.bind(e):function(){}}return{error:t("error",G.ERROR),warn:t("warn",G.WARN),info:t("info",G.INFO),debug:t("debug",G.DEBUG),verbose:t("verbose",G.VERBOSE)}}var MS=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},PS=function(r,e,t){if(t||arguments.length===2)for(var a=0,E=e.length,n;a<E;a++)(n||!(a in e))&&(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return r.concat(n||Array.prototype.slice.call(e))},lS="diag",tr=function(){function r(){function e(E){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var _=Tr("diag");if(_)return _[E].apply(_,PS([],MS(n),!1))}}var t=this,a=function(E,n){var o,_,i;if(n===void 0&&(n={logLevel:G.INFO}),E===t){var S=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((o=S.stack)!==null&&o!==void 0?o:S.message),!1}typeof n=="number"&&(n={logLevel:n});var T=Tr("diag"),A=YE((_=n.logLevel)!==null&&_!==void 0?_:G.INFO,E);if(T&&!n.suppressOverrideMessage){var s=(i=new Error().stack)!==null&&i!==void 0?i:"<failed to generate stacktrace>";T.warn("Current logger will be overwritten from "+s),A.warn("Current logger will overwrite one already registered from "+s)}return Ir("diag",A,t,!0)};t.setLogger=a,t.disable=function(){Ur(lS,t)},t.createComponentLogger=function(E){return new GE(E)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return r.instance=function(){return this._instance||(this._instance=new r),this._instance},r}();var CS=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},LS=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],a=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HE=function(){function r(e){this._entries=e?new Map(e):new Map}return r.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=CS(e,2),a=t[0],E=t[1];return[a,E]})},r.prototype.setEntry=function(e,t){var a=new r(this._entries);return a._entries.set(e,t),a},r.prototype.removeEntry=function(e){var t=new r(this._entries);return t._entries.delete(e),t},r.prototype.removeEntries=function(){for(var e,t,a=[],E=0;E<arguments.length;E++)a[E]=arguments[E];var n=new r(this._entries);try{for(var o=LS(a),_=o.next();!_.done;_=o.next()){var i=_.value;n._entries.delete(i)}}catch(S){e={error:S}}finally{try{_&&!_.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},r.prototype.clear=function(){return new r},r}();var wE=Symbol("BaggageEntryMetadata");var dS=tr.instance();function FE(r){return r===void 0&&(r={}),new HE(new Map(Object.entries(r)))}function _a(r){return typeof r!="string"&&(dS.error("Cannot create baggage metadata from unknown type: "+typeof r),r=""),{__TYPE__:wE,toString:function(){return r}}}function qr(r){return Symbol.for(r)}var DS=function(){function r(e){var t=this;t._currentContext=e?new Map(e):new Map,t.getValue=function(a){return t._currentContext.get(a)},t.setValue=function(a,E){var n=new r(t._currentContext);return n._currentContext.set(a,E),n},t.deleteValue=function(a){var E=new r(t._currentContext);return E._currentContext.delete(a),E}}return r}(),Mr=new DS;var Sa=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],Ta=function(){function r(){function e(a){return function(){for(var E=[],n=0;n<arguments.length;n++)E[n]=arguments[n];if(console){var o=console[a];if(typeof o!="function"&&(o=console.log),typeof o=="function")return o.apply(console,E)}}}for(var t=0;t<Sa.length;t++)this[Sa[t].n]=e(Sa[t].c)}return r}();var Jr=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,E){a.__proto__=E}||function(a,E){for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(a[n]=E[n])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),fS=function(){function r(){}return r.prototype.createGauge=function(e,t){return bS},r.prototype.createHistogram=function(e,t){return yS},r.prototype.createCounter=function(e,t){return BS},r.prototype.createUpDownCounter=function(e,t){return GS},r.prototype.createObservableGauge=function(e,t){return HS},r.prototype.createObservableCounter=function(e,t){return YS},r.prototype.createObservableUpDownCounter=function(e,t){return wS},r.prototype.addBatchObservableCallback=function(e,t){},r.prototype.removeBatchObservableCallback=function(e){},r}();var st=function(){function r(){}return r}();var IS=function(r){Jr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,a){},e}(st);var US=function(r){Jr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,a){},e}(st);var mS=function(r){Jr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,a){},e}(st);var hS=function(r){Jr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,a){},e}(st);var ia=function(){function r(){}return r.prototype.addCallback=function(e){},r.prototype.removeCallback=function(e){},r}();var xS=function(r){Jr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(ia);var VS=function(r){Jr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(ia);var gS=function(r){Jr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(ia);var KE=new fS,BS=new IS,bS=new mS,yS=new hS,GS=new US,YS=new xS,HS=new VS,wS=new gS;var WE={get:function(r,e){if(r!=null)return r[e]},keys:function(r){return r==null?[]:Object.keys(r)}},kE={set:function(r,e,t){r!=null&&(r[e]=t)}};var FS=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},KS=function(r,e,t){if(t||arguments.length===2)for(var a=0,E=e.length,n;a<E;a++)(n||!(a in e))&&(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return r.concat(n||Array.prototype.slice.call(e))},XE=function(){function r(){}return r.prototype.active=function(){return Mr},r.prototype.with=function(e,t,a){for(var E=[],n=3;n<arguments.length;n++)E[n-3]=arguments[n];return t.call.apply(t,KS([a],FS(E),!1))},r.prototype.bind=function(e,t){return t},r.prototype.enable=function(){return this},r.prototype.disable=function(){return this},r}();var WS=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},kS=function(r,e,t){if(t||arguments.length===2)for(var a=0,E=e.length,n;a<E;a++)(n||!(a in e))&&(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return r.concat(n||Array.prototype.slice.call(e))},Aa="context",XS=new XE,wr=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalContextManager=function(e){return Ir(Aa,e,tr.instance())},r.prototype.active=function(){return this._getContextManager().active()},r.prototype.with=function(e,t,a){for(var E,n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];return(E=this._getContextManager()).with.apply(E,kS([e,t,a],WS(n),!1))},r.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},r.prototype._getContextManager=function(){return Tr(Aa)||XS},r.prototype.disable=function(){this._getContextManager().disable(),Ur(Aa,tr.instance())},r}();var or;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(or||(or={}));var pt="0000000000000000",vt="00000000000000000000000000000000",ge={traceId:vt,spanId:pt,traceFlags:or.NONE};var Fr=function(){function r(e){e===void 0&&(e=ge),this._spanContext=e}return r.prototype.spanContext=function(){return this._spanContext},r.prototype.setAttribute=function(e,t){return this},r.prototype.setAttributes=function(e){return this},r.prototype.addEvent=function(e,t){return this},r.prototype.addLink=function(e){return this},r.prototype.addLinks=function(e){return this},r.prototype.setStatus=function(e){return this},r.prototype.updateName=function(e){return this},r.prototype.end=function(e){},r.prototype.isRecording=function(){return!1},r.prototype.recordException=function(e,t){},r}();var sa=qr("OpenTelemetry Context Key SPAN");function ut(r){return r.getValue(sa)||void 0}function jE(){return ut(wr.getInstance().active())}function Be(r,e){return r.setValue(sa,e)}function QE(r){return r.deleteValue(sa)}function zE(r,e){return Be(r,new Fr(e))}function Nt(r){var e;return(e=ut(r))===null||e===void 0?void 0:e.spanContext()}var jS=/^([0-9a-f]{32})$/i,QS=/^[0-9a-f]{16}$/i;function ct(r){return jS.test(r)&&r!==vt}function ZE(r){return QS.test(r)&&r!==pt}function Br(r){return ct(r.traceId)&&ZE(r.spanId)}function qE(r){return new Fr(r)}var pa=wr.getInstance(),Rt=function(){function r(){}return r.prototype.startSpan=function(e,t,a){a===void 0&&(a=pa.active());var E=!!t?.root;if(E)return new Fr;var n=a&&Nt(a);return zS(n)&&Br(n)?new Fr(n):new Fr},r.prototype.startActiveSpan=function(e,t,a,E){var n,o,_;if(!(arguments.length<2)){arguments.length===2?_=t:arguments.length===3?(n=t,_=a):(n=t,o=a,_=E);var i=o??pa.active(),S=this.startSpan(e,n,i),T=Be(i,S);return pa.with(T,_,void 0,S)}},r}();function zS(r){return typeof r=="object"&&typeof r.spanId=="string"&&typeof r.traceId=="string"&&typeof r.traceFlags=="number"}var ZS=new Rt,JE=function(){function r(e,t,a,E){this._provider=e,this.name=t,this.version=a,this.options=E}return r.prototype.startSpan=function(e,t,a){return this._getTracer().startSpan(e,t,a)},r.prototype.startActiveSpan=function(e,t,a,E){var n=this._getTracer();return Reflect.apply(n.startActiveSpan,n,arguments)},r.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):ZS},r}();var $E=function(){function r(){}return r.prototype.getTracer=function(e,t,a){return new Rt},r}();var qS=new $E,va=function(){function r(){}return r.prototype.getTracer=function(e,t,a){var E;return(E=this.getDelegateTracer(e,t,a))!==null&&E!==void 0?E:new JE(this,e,t,a)},r.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:qS},r.prototype.setDelegate=function(e){this._delegate=e},r.prototype.getDelegateTracer=function(e,t,a){var E;return(E=this._delegate)===null||E===void 0?void 0:E.getTracer(e,t,a)},r}();var se;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(se||(se={}));var br;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(br||(br={}));var $r;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})($r||($r={}));var h=wr.getInstance();var R=tr.instance();var JS=function(){function r(){}return r.prototype.getMeter=function(e,t,a){return KE},r}();var rn=new JS;var ua="metrics",en=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalMeterProvider=function(e){return Ir(ua,e,tr.instance())},r.prototype.getMeterProvider=function(){return Tr(ua)||rn},r.prototype.getMeter=function(e,t,a){return this.getMeterProvider().getMeter(e,t,a)},r.prototype.disable=function(){Ur(ua,tr.instance())},r}();var re=en.getInstance();var tn=function(){function r(){}return r.prototype.inject=function(e,t){},r.prototype.extract=function(e,t){return e},r.prototype.fields=function(){return[]},r}();var Na=qr("OpenTelemetry Baggage Key");function ca(r){return r.getValue(Na)||void 0}function an(){return ca(wr.getInstance().active())}function En(r,e){return r.setValue(Na,e)}function nn(r){return r.deleteValue(Na)}var Ra="propagation",$S=new tn,on=function(){function r(){this.createBaggage=FE,this.getBaggage=ca,this.getActiveBaggage=an,this.setBaggage=En,this.deleteBaggage=nn}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalPropagator=function(e){return Ir(Ra,e,tr.instance())},r.prototype.inject=function(e,t,a){return a===void 0&&(a=kE),this._getGlobalPropagator().inject(e,t,a)},r.prototype.extract=function(e,t,a){return a===void 0&&(a=WE),this._getGlobalPropagator().extract(e,t,a)},r.prototype.fields=function(){return this._getGlobalPropagator().fields()},r.prototype.disable=function(){Ur(Ra,tr.instance())},r.prototype._getGlobalPropagator=function(){return Tr(Ra)||$S},r}();var q=on.getInstance();var Oa="trace",_n=function(){function r(){this._proxyTracerProvider=new va,this.wrapSpanContext=qE,this.isSpanContextValid=Br,this.deleteSpan=QE,this.getSpan=ut,this.getActiveSpan=jE,this.getSpanContext=Nt,this.setSpan=Be,this.setSpanContext=zE}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalTracerProvider=function(e){var t=Ir(Oa,this._proxyTracerProvider,tr.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},r.prototype.getTracerProvider=function(){return Tr(Oa)||this._proxyTracerProvider},r.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},r.prototype.disable=function(){Ur(Oa,tr.instance()),this._proxyTracerProvider=new va},r}();var b=_n.getInstance();var Ma=function(){function r(){}return r.prototype.emit=function(e){},r}();var Sn=new Ma;var rT=function(){function r(){}return r.prototype.getLogger=function(e,t,a){return new Ma},r}();var Ot=new rT;var Tn=function(){function r(e,t,a,E){this._provider=e,this.name=t,this.version=a,this.options=E}return r.prototype.emit=function(e){this._getLogger().emit(e)},r.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Sn},r}();var Pa=function(){function r(){}return r.prototype.getLogger=function(e,t,a){var E;return(E=this.getDelegateLogger(e,t,a))!==null&&E!==void 0?E:new Tn(this,e,t,a)},r.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:Ot},r.prototype.setDelegate=function(e){this._delegate=e},r.prototype.getDelegateLogger=function(e,t,a){var E;return(E=this._delegate)===null||E===void 0?void 0:E.getLogger(e,t,a)},r}();var la=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var be=Symbol.for("io.opentelemetry.js.api.logs"),ve=la;function An(r,e,t){return function(a){return a===r?e:t}}var Ca=1;var sn=function(){function r(){this._proxyLoggerProvider=new Pa}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalLoggerProvider=function(e){return ve[be]?this.getLoggerProvider():(ve[be]=An(Ca,e,Ot),this._proxyLoggerProvider.setDelegate(e),e)},r.prototype.getLoggerProvider=function(){var e,t;return(t=(e=ve[be])===null||e===void 0?void 0:e.call(ve,Ca))!==null&&t!==void 0?t:this._proxyLoggerProvider},r.prototype.getLogger=function(e,t,a){return this.getLoggerProvider().getLogger(e,t,a)},r.prototype.disable=function(){delete ve[be],this._proxyLoggerProvider=new Pa},r}();var Mt=sn.getInstance();function pn(r,e,t,a){for(var E=0,n=r.length;E<n;E++){var o=r[E];e&&o.setTracerProvider(e),t&&o.setMeterProvider(t),a&&o.setLoggerProvider&&o.setLoggerProvider(a),o.getConfig().enabled||o.enable()}}function vn(r){r.forEach(function(e){return e.disable()})}function La(r){var e,t,a=r.tracerProvider||b.getTracerProvider(),E=r.meterProvider||re.getMeterProvider(),n=r.loggerProvider||Mt.getLoggerProvider(),o=(t=(e=r.instrumentations)===null||e===void 0?void 0:e.flat())!==null&&t!==void 0?t:[];return pn(o,a,E,n),function(){vn(o)}}var Kr=At(Da()),fa=function(){return fa=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var E in e)Object.prototype.hasOwnProperty.call(e,E)&&(r[E]=e[E])}return r},fa.apply(this,arguments)},Rn=function(){function r(e,t,a){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=Kr.wrap,this._unwrap=Kr.unwrap,this._massWrap=Kr.massWrap,this._massUnwrap=Kr.massUnwrap,this.setConfig(a),this._diag=R.createComponentLogger({namespace:e}),this._tracer=b.getTracer(e,t),this._meter=re.getMeter(e,t),this._logger=Mt.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(r.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),r.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(r.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),r.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},r.prototype.getModuleDefinitions=function(){var e,t=(e=this.init())!==null&&e!==void 0?e:[];return Array.isArray(t)?t:[t]},r.prototype._updateMetricInstruments=function(){},r.prototype.getConfig=function(){return this._config},r.prototype.setConfig=function(e){this._config=fa({enabled:!0},e)},r.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(r.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),r.prototype._runSpanCustomizationHook=function(e,t,a,E){if(e)try{e(a,E)}catch(n){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},n)}},r}();var aT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,E){a.__proto__=E}||function(a,E){for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(a[n]=E[n])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),sr=function(r){aT(e,r);function e(t,a,E){var n=r.call(this,t,a,E)||this;return n._config.enabled&&n.enable(),n}return e}(Rn);function Wr(r,e,t){var a,E;try{E=r()}catch(n){a=n}finally{if(e(a,E),a&&!t)throw a;return E}}function Q(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var ET="service.name";var nT="telemetry.sdk.name",oT="telemetry.sdk.language",_T="telemetry.sdk.version";var On=ET;var Ia=nT,Ua=oT,ma=_T;var Mn=qr("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function ha(r){return r.setValue(Mn,!0)}function ee(r){return r.getValue(Mn)===!0}var Pn="=",Pt=";",Ye=",",lt="baggage",ln=180,Cn=4096,Ln=8192;var ST=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n};function dn(r){return r.reduce(function(e,t){var a=""+e+(e!==""?Ye:"")+t;return a.length>Ln?e:a},"")}function Dn(r){return r.getAllEntries().map(function(e){var t=ST(e,2),a=t[0],E=t[1],n=encodeURIComponent(a)+"="+encodeURIComponent(E.value);return E.metadata!==void 0&&(n+=Pt+E.metadata.toString()),n})}function fn(r){var e=r.split(Pt);if(!(e.length<=0)){var t=e.shift();if(t){var a=t.indexOf(Pn);if(!(a<=0)){var E=decodeURIComponent(t.substring(0,a).trim()),n=decodeURIComponent(t.substring(a+1).trim()),o;return e.length>0&&(o=_a(e.join(Pt))),{key:E,value:n,metadata:o}}}}}var xa=function(){function r(){}return r.prototype.inject=function(e,t,a){var E=q.getBaggage(e);if(!(!E||ee(e))){var n=Dn(E).filter(function(_){return _.length<=Cn}).slice(0,ln),o=dn(n);o.length>0&&a.set(t,lt,o)}},r.prototype.extract=function(e,t,a){var E=a.get(t,lt),n=Array.isArray(E)?E.join(Ye):E;if(!n)return e;var o={};if(n.length===0)return e;var _=n.split(Ye);return _.forEach(function(i){var S=fn(i);if(S){var T={value:S.value};S.metadata&&(T.metadata=S.metadata),o[S.key]=T}}),Object.entries(o).length===0?e:q.setBaggage(e,q.createBaggage(o))},r.prototype.fields=function(){return[lt]},r}();var In=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],a=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TT=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n};function te(r){var e,t,a={};if(typeof r!="object"||r==null)return a;try{for(var E=In(Object.entries(r)),n=E.next();!n.done;n=E.next()){var o=TT(n.value,2),_=o[0],i=o[1];if(!Un(_)){R.warn("Invalid attribute key: "+_);continue}if(!Ct(i)){R.warn("Invalid attribute value set for key: "+_);continue}Array.isArray(i)?a[_]=i.slice():a[_]=i}}catch(S){e={error:S}}finally{try{n&&!n.done&&(t=E.return)&&t.call(E)}finally{if(e)throw e.error}}return a}function Un(r){return typeof r=="string"&&r.length>0}function Ct(r){return r==null?!0:Array.isArray(r)?iT(r):mn(r)}function iT(r){var e,t,a;try{for(var E=In(r),n=E.next();!n.done;n=E.next()){var o=n.value;if(o!=null){if(!a){if(mn(o)){a=typeof o;continue}return!1}if(typeof o!==a)return!1}}}catch(_){e={error:_}}finally{try{n&&!n.done&&(t=E.return)&&t.call(E)}finally{if(e)throw e.error}}return!0}function mn(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}function hn(){return function(r){R.error(AT(r))}}function AT(r){return typeof r=="string"?r:JSON.stringify(sT(r))}function sT(r){for(var e={},t=r;t!==null;)Object.getOwnPropertyNames(t).forEach(function(a){if(!e[a]){var E=t[a];E&&(e[a]=String(E))}}),t=Object.getPrototypeOf(t);return e}var pT=hn();function Pr(r){try{pT(r)}catch{}}var ir;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(ir||(ir={}));var vT=",",uT=["OTEL_SDK_DISABLED"];function NT(r){return uT.indexOf(r)>-1}var cT=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function RT(r){return cT.indexOf(r)>-1}var OT=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];function MT(r){return OT.indexOf(r)>-1}var ue=1/0,Ne=128,xn=128,Vn=128,Lt={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:G.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:ue,OTEL_ATTRIBUTE_COUNT_LIMIT:Ne,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:ue,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Ne,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:ue,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Ne,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:xn,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Vn,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:ir.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};function PT(r,e,t){if(!(typeof t[r]>"u")){var a=String(t[r]);e[r]=a.toLowerCase()==="true"}}function lT(r,e,t,a,E){if(a===void 0&&(a=-1/0),E===void 0&&(E=1/0),typeof t[r]<"u"){var n=Number(t[r]);isNaN(n)||(n<a?e[r]=a:n>E?e[r]=E:e[r]=n)}}function CT(r,e,t,a){a===void 0&&(a=vT);var E=t[r];typeof E=="string"&&(e[r]=E.split(a).map(function(n){return n.trim()}))}var LT={ALL:G.ALL,VERBOSE:G.VERBOSE,DEBUG:G.DEBUG,INFO:G.INFO,WARN:G.WARN,ERROR:G.ERROR,NONE:G.NONE};function dT(r,e,t){var a=t[r];if(typeof a=="string"){var E=LT[a.toUpperCase()];E!=null&&(e[r]=E)}}function dt(r){var e={};for(var t in Lt){var a=t;switch(a){case"OTEL_LOG_LEVEL":dT(a,e,r);break;default:if(NT(a))PT(a,e,r);else if(RT(a))lT(a,e,r);else if(MT(a))CT(a,e,r);else{var E=r[a];typeof E<"u"&&E!==null&&(e[a]=String(E))}}}return e}var yr=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};function mr(){var r=dt(yr);return Object.assign({},Lt,r)}function Dt(){return dt(yr)}function gn(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}function He(r){for(var e=new Uint8Array(r.length/2),t=0,a=0;a<r.length;a+=2){var E=gn(r.charCodeAt(a)),n=gn(r.charCodeAt(a+1));e[t++]=E<<4|n}return e}var rr=performance;var Bn="1.30.1";var DT="process.runtime.name";var fT="telemetry.sdk.name",IT="telemetry.sdk.language",UT="telemetry.sdk.version";var bn=DT;var yn=fT,Gn=IT,Yn=UT;var mT="webjs";var Hn=mT;var ce,Re=(ce={},ce[yn]="opentelemetry",ce[bn]="browser",ce[Gn]=Hn,ce[Yn]=Bn,ce);var hT=9,xT=6,VT=Math.pow(10,xT),ft=Math.pow(10,hT);function pr(r){var e=r/1e3,t=Math.trunc(e),a=Math.round(r%1e3*VT);return[t,a]}function we(){var r=rr.timeOrigin;if(typeof r!="number"){var e=rr;r=e.timing&&e.timing.fetchStart}return r}function vr(r){var e=pr(we()),t=pr(typeof r=="number"?r:rr.now());return Ut(e,t)}function ae(r){if(Fe(r))return r;if(typeof r=="number")return r<we()?vr(r):pr(r);if(r instanceof Date)return pr(r.getTime());throw TypeError("Invalid input type")}function Va(r,e){var t=e[0]-r[0],a=e[1]-r[1];return a<0&&(t-=1,a+=ft),[t,a]}function ur(r){return r[0]*ft+r[1]}function Fe(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function It(r){return Fe(r)||typeof r=="number"||r instanceof Date}function Ut(r,e){var t=[r[0]+e[0],r[1]+e[1]];return t[1]>=ft&&(t[1]-=ft,t[0]+=1),t}var ar;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(ar||(ar={}));var gT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],a=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ga=function(){function r(e){e===void 0&&(e={});var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(function(a){return typeof a.fields=="function"?a.fields():[]}).reduce(function(a,E){return a.concat(E)},[])))}return r.prototype.inject=function(e,t,a){var E,n;try{for(var o=gT(this._propagators),_=o.next();!_.done;_=o.next()){var i=_.value;try{i.inject(e,t,a)}catch(S){R.warn("Failed to inject with "+i.constructor.name+". Err: "+S.message)}}}catch(S){E={error:S}}finally{try{_&&!_.done&&(n=o.return)&&n.call(o)}finally{if(E)throw E.error}}},r.prototype.extract=function(e,t,a){return this._propagators.reduce(function(E,n){try{return n.extract(E,t,a)}catch(o){R.warn("Failed to extract with "+n.constructor.name+". Err: "+o.message)}return E},e)},r.prototype.fields=function(){return this._fields.slice()},r}();var Ba="[_0-9a-z-*/]",BT="[a-z]"+Ba+"{0,255}",bT="[a-z0-9]"+Ba+"{0,240}@[a-z]"+Ba+"{0,13}",yT=new RegExp("^(?:"+BT+"|"+bT+")$"),GT=/^[ -~]{0,255}[!-~]$/,YT=/,|=/;function wn(r){return yT.test(r)}function Fn(r){return GT.test(r)&&!YT.test(r)}var Kn=32,HT=512,Wn=",",kn="=",Xn=function(){function r(e){this._internalState=new Map,e&&this._parse(e)}return r.prototype.set=function(e,t){var a=this._clone();return a._internalState.has(e)&&a._internalState.delete(e),a._internalState.set(e,t),a},r.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},r.prototype.get=function(e){return this._internalState.get(e)},r.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,a){return t.push(a+kn+e.get(a)),t},[]).join(Wn)},r.prototype._parse=function(e){e.length>HT||(this._internalState=e.split(Wn).reverse().reduce(function(t,a){var E=a.trim(),n=E.indexOf(kn);if(n!==-1){var o=E.slice(0,n),_=E.slice(n+1,a.length);wn(o)&&Fn(_)&&t.set(o,_)}return t},new Map),this._internalState.size>Kn&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Kn))))},r.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},r.prototype._clone=function(){var e=new r;return e._internalState=new Map(this._internalState),e},r}();var Oe="traceparent",mt="tracestate",wT="00",FT="(?!ff)[\\da-f]{2}",KT="(?![0]{32})[\\da-f]{32}",WT="(?![0]{16})[\\da-f]{16}",kT="[\\da-f]{2}",XT=new RegExp("^\\s?("+FT+")-("+KT+")-("+WT+")-("+kT+")(-.*)?\\s?$");function jn(r){var e=XT.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var ba=function(){function r(){}return r.prototype.inject=function(e,t,a){var E=b.getSpanContext(e);if(!(!E||ee(e)||!Br(E))){var n=wT+"-"+E.traceId+"-"+E.spanId+"-0"+Number(E.traceFlags||or.NONE).toString(16);a.set(t,Oe,n),E.traceState&&a.set(t,mt,E.traceState.serialize())}},r.prototype.extract=function(e,t,a){var E=a.get(t,Oe);if(!E)return e;var n=Array.isArray(E)?E[0]:E;if(typeof n!="string")return e;var o=jn(n);if(!o)return e;o.isRemote=!0;var _=a.get(t,mt);if(_){var i=Array.isArray(_)?_.join(","):_;o.traceState=new Xn(typeof i=="string"?i:void 0)}return b.setSpanContext(e,o)},r.prototype.fields=function(){return[Oe,mt]},r}();var jT="[object Object]",QT="[object Null]",zT="[object Undefined]",ZT=Function.prototype,Qn=ZT.toString,qT=Qn.call(Object),JT=$T(Object.getPrototypeOf,Object),zn=Object.prototype,Zn=zn.hasOwnProperty,Ee=Symbol?Symbol.toStringTag:void 0,qn=zn.toString;function $T(r,e){return function(t){return r(e(t))}}function ya(r){if(!ri(r)||ei(r)!==jT)return!1;var e=JT(r);if(e===null)return!0;var t=Zn.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Qn.call(t)===qT}function ri(r){return r!=null&&typeof r=="object"}function ei(r){return r==null?r===void 0?zT:QT:Ee&&Ee in Object(r)?ti(r):ai(r)}function ti(r){var e=Zn.call(r,Ee),t=r[Ee],a=!1;try{r[Ee]=void 0,a=!0}catch{}var E=qn.call(r);return a&&(e?r[Ee]=t:delete r[Ee]),E}function ai(r){return qn.call(r)}var Ei=20;function Ya(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=r.shift(),a=new WeakMap;r.length>0;)t=$n(t,r.shift(),0,a);return t}function Ga(r){return xt(r)?r.slice():r}function $n(r,e,t,a){t===void 0&&(t=0);var E;if(!(t>Ei)){if(t++,ht(r)||ht(e)||ro(e))E=Ga(e);else if(xt(r)){if(E=r.slice(),xt(e))for(var n=0,o=e.length;n<o;n++)E.push(Ga(e[n]));else if(Ke(e))for(var _=Object.keys(e),n=0,o=_.length;n<o;n++){var i=_[n];E[i]=Ga(e[i])}}else if(Ke(r))if(Ke(e)){if(!ni(r,e))return e;E=Object.assign({},r);for(var _=Object.keys(e),n=0,o=_.length;n<o;n++){var i=_[n],S=e[i];if(ht(S))typeof S>"u"?delete E[i]:E[i]=S;else{var T=E[i],A=S;if(Jn(r,i,a)||Jn(e,i,a))delete E[i];else{if(Ke(T)&&Ke(A)){var s=a.get(T)||[],p=a.get(A)||[];s.push({obj:r,key:i}),p.push({obj:e,key:i}),a.set(T,s),a.set(A,p)}E[i]=$n(E[i],S,t,a)}}}}else E=e;return E}}function Jn(r,e,t){for(var a=t.get(r[e])||[],E=0,n=a.length;E<n;E++){var o=a[E];if(o.key===e&&o.obj===r)return!0}return!1}function xt(r){return Array.isArray(r)}function ro(r){return typeof r=="function"}function Ke(r){return!ht(r)&&!xt(r)&&!ro(r)&&typeof r=="object"}function ht(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function ni(r,e){return!(!ya(r)||!ya(e))}var oi=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],a=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Vt(r,e){return typeof e=="string"?r===e:!!r.match(e)}function We(r,e){var t,a;if(!e)return!1;try{for(var E=oi(e),n=E.next();!n.done;n=E.next()){var o=n.value;if(Vt(r,o))return!0}}catch(_){t={error:_}}finally{try{n&&!n.done&&(a=E.return)&&a.call(E)}finally{if(t)throw t.error}}return!1}var eo=function(){function r(){var e=this;this._promise=new Promise(function(t,a){e._resolve=t,e._reject=a})}return Object.defineProperty(r.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),r.prototype.resolve=function(e){this._resolve(e)},r.prototype.reject=function(e){this._reject(e)},r}();var _i=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},Si=function(r,e,t){if(t||arguments.length===2)for(var a=0,E=e.length,n;a<E;a++)(n||!(a in e))&&(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return r.concat(n||Array.prototype.slice.call(e))},Ha=function(){function r(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new eo}return Object.defineProperty(r.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),r.prototype.call=function(){for(var e,t=this,a=[],E=0;E<arguments.length;E++)a[E]=arguments[E];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,Si([this._that],_i(a),!1))).then(function(n){return t._deferred.resolve(n)},function(n){return t._deferred.reject(n)})}catch(n){this._deferred.reject(n)}}return this._deferred.promise},r}();function wa(){return"unknown_service"}var kr=function(){return kr=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var E in e)Object.prototype.hasOwnProperty.call(e,E)&&(r[E]=e[E])}return r},kr.apply(this,arguments)},Ai=function(r,e,t,a){function E(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function _(T){try{S(a.next(T))}catch(A){o(A)}}function i(T){try{S(a.throw(T))}catch(A){o(A)}}function S(T){T.done?n(T.value):E(T.value).then(_,i)}S((a=a.apply(r,e||[])).next())})},si=function(r,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,E,n,o;return o={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function _(S){return function(T){return i([S,T])}}function i(S){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,E&&(n=S[0]&2?E.return:S[0]?E.throw||((n=E.return)&&n.call(E),0):E.next)&&!(n=n.call(E,S[1])).done)return n;switch(E=0,n&&(S=[S[0]&2,n.value]),S[0]){case 0:case 1:n=S;break;case 4:return t.label++,{value:S[1],done:!1};case 5:t.label++,E=S[1],S=[0];continue;case 7:S=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(S[0]===6||S[0]===2)){t=0;continue}if(S[0]===3&&(!n||S[1]>n[0]&&S[1]<n[3])){t.label=S[1];break}if(S[0]===6&&t.label<n[1]){t.label=n[1],n=S;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(S);break}n[2]&&t.ops.pop(),t.trys.pop();continue}S=e.call(r,t)}catch(T){S=[6,T],E=0}finally{a=n=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},pi=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},z=function(){function r(e,t){var a=this,E;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(E=this._attributes)!==null&&E!==void 0?E:{},this._asyncAttributesPromise=t?.then(function(n){return a._attributes=Object.assign({},a._attributes,n),a.asyncAttributesPending=!1,n},function(n){return R.debug("a resource's async attributes promise rejected: %s",n),a.asyncAttributesPending=!1,{}})}return r.empty=function(){return r.EMPTY},r.default=function(){var e;return new r((e={},e[On]=wa(),e[Ua]=Re[Ua],e[Ia]=Re[Ia],e[ma]=Re[ma],e))},Object.defineProperty(r.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&R.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}},enumerable:!1,configurable:!0}),r.prototype.waitForAsyncAttributes=function(){return Ai(this,void 0,void 0,function(){return si(this,function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},r.prototype.merge=function(e){var t=this,a;if(!e)return this;var E=kr(kr({},this._syncAttributes),(a=e._syncAttributes)!==null&&a!==void 0?a:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(E);var n=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(function(o){var _,i=pi(o,2),S=i[0],T=i[1];return kr(kr(kr(kr({},t._syncAttributes),S),(_=e._syncAttributes)!==null&&_!==void 0?_:e.attributes),T)});return new r(E,n)},r.EMPTY=new r({}),r}();var to=function(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"};var vi=function(r,e,t,a){function E(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function _(T){try{S(a.next(T))}catch(A){o(A)}}function i(T){try{S(a.throw(T))}catch(A){o(A)}}function S(T){T.done?n(T.value):E(T.value).then(_,i)}S((a=a.apply(r,e||[])).next())})},ui=function(r,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,E,n,o;return o={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function _(S){return function(T){return i([S,T])}}function i(S){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,E&&(n=S[0]&2?E.return:S[0]?E.throw||((n=E.return)&&n.call(E),0):E.next)&&!(n=n.call(E,S[1])).done)return n;switch(E=0,n&&(S=[S[0]&2,n.value]),S[0]){case 0:case 1:n=S;break;case 4:return t.label++,{value:S[1],done:!1};case 5:t.label++,E=S[1],S=[0];continue;case 7:S=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(S[0]===6||S[0]===2)){t=0;continue}if(S[0]===3&&(!n||S[1]>n[0]&&S[1]<n[3])){t.label=S[1];break}if(S[0]===6&&t.label<n[1]){t.label=n[1],n=S;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(S);break}n[2]&&t.ops.pop(),t.trys.pop();continue}S=e.call(r,t)}catch(T){S=[6,T],E=0}finally{a=n=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};var Fa=function(r){var e;r===void 0&&(r={});var t=((e=r.detectors)!==null&&e!==void 0?e:[]).map(function(E){try{var n=E.detect(r),o;if(to(n)){var _=function(){return vi(void 0,void 0,void 0,function(){var i,S;return ui(this,function(T){switch(T.label){case 0:return[4,n];case 1:return i=T.sent(),[4,(S=i.waitForAsyncAttributes)===null||S===void 0?void 0:S.call(i)];case 2:return T.sent(),[2,i.attributes]}})})};o=new z({},_())}else o=n;return o.waitForAsyncAttributes?o.waitForAsyncAttributes().then(function(){return R.debug(E.constructor.name+" found resource.",o)}):R.debug(E.constructor.name+" found resource.",o),o}catch(i){return R.error(E.constructor.name+" failed: "+i.message),z.empty()}}),a=t.reduce(function(E,n){return E.merge(n)},z.empty());return a.waitForAsyncAttributes&&a.waitForAsyncAttributes().then(function(){Ni(t)}),a},Ni=function(r){r.forEach(function(e){if(Object.keys(e.attributes).length>0){var t=JSON.stringify(e.attributes,null,4);R.verbose(t)}})};var ci="exception.type",Ri="exception.message",Oi="exception.stacktrace";var gt=ci,Bt=Ri,ao=Oi;var Eo="exception";var Ka=function(){return Ka=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var E in e)Object.prototype.hasOwnProperty.call(e,E)&&(r[E]=e[E])}return r},Ka.apply(this,arguments)},Mi=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],a=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},no=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},Pi=function(r,e,t){if(t||arguments.length===2)for(var a=0,E=e.length,n;a<E;a++)(n||!(a in e))&&(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return r.concat(n||Array.prototype.slice.call(e))},oo=function(){function r(e,t,a,E,n,o,_,i,S,T){_===void 0&&(_=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:$r.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=a,this._spanContext=E,this.parentSpanId=o,this.kind=n,this.links=_;var A=Date.now();this._performanceStartTime=rr.now(),this._performanceOffset=A-(this._performanceStartTime+we()),this._startTimeProvided=i!=null,this.startTime=this._getTime(i??A),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,T!=null&&this.setAttributes(T),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}return r.prototype.spanContext=function(){return this._spanContext},r.prototype.setAttribute=function(e,t){return t==null||this._isSpanEnded()?this:e.length===0?(R.warn("Invalid attribute key: "+e),this):Ct(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(R.warn("Invalid attribute value set for key: "+e),this)},r.prototype.setAttributes=function(e){var t,a;try{for(var E=Mi(Object.entries(e)),n=E.next();!n.done;n=E.next()){var o=no(n.value,2),_=o[0],i=o[1];this.setAttribute(_,i)}}catch(S){t={error:S}}finally{try{n&&!n.done&&(a=E.return)&&a.call(E)}finally{if(t)throw t.error}}return this},r.prototype.addEvent=function(e,t,a){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return R.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&R.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),It(t)&&(It(a)||(a=t),t=void 0);var E=te(t);return this.events.push({name:e,attributes:E,time:this._getTime(a),droppedAttributesCount:0}),this},r.prototype.addLink=function(e){return this.links.push(e),this},r.prototype.addLinks=function(e){var t;return(t=this.links).push.apply(t,Pi([],no(e),!1)),this},r.prototype.setStatus=function(e){return this._isSpanEnded()?this:(this.status=Ka({},e),this.status.message!=null&&typeof e.message!="string"&&(R.warn("Dropping invalid status.message of type '"+typeof e.message+"', expected 'string'"),delete this.status.message),this)},r.prototype.updateName=function(e){return this._isSpanEnded()?this:(this.name=e,this)},r.prototype.end=function(e){if(this._isSpanEnded()){R.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(e),this._duration=Va(this.startTime,this.endTime),this._duration[0]<0&&(R.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&R.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},r.prototype._getTime=function(e){if(typeof e=="number"&&e<=rr.now())return vr(e+this._performanceOffset);if(typeof e=="number")return pr(e);if(e instanceof Date)return pr(e.getTime());if(Fe(e))return e;if(this._startTimeProvided)return pr(Date.now());var t=rr.now()-this._performanceStartTime;return Ut(this.startTime,pr(t))},r.prototype.isRecording=function(){return this._ended===!1},r.prototype.recordException=function(e,t){var a={};typeof e=="string"?a[Bt]=e:e&&(e.code?a[gt]=e.code.toString():e.name&&(a[gt]=e.name),e.message&&(a[Bt]=e.message),e.stack&&(a[ao]=e.stack)),a[gt]||a[Bt]?this.addEvent(Eo,a,t):R.warn("Failed to record an exception "+e)},Object.defineProperty(r.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),r.prototype._isSpanEnded=function(){return this._ended&&R.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},r.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substring(0,t)},r.prototype._truncateToSize=function(e){var t=this,a=this._attributeValueLengthLimit;return a<=0?(R.warn("Attribute value limit must be positive, got "+a),e):typeof e=="string"?this._truncateToLimitUtil(e,a):Array.isArray(e)?e.map(function(E){return typeof E=="string"?t._truncateToLimitUtil(E,a):E}):e},r}();var Gr;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Gr||(Gr={}));var Yr=function(){function r(){}return r.prototype.shouldSample=function(){return{decision:Gr.NOT_RECORD}},r.prototype.toString=function(){return"AlwaysOffSampler"},r}();var lr=function(){function r(){}return r.prototype.shouldSample=function(){return{decision:Gr.RECORD_AND_SAMPLED}},r.prototype.toString=function(){return"AlwaysOnSampler"},r}();var bt=function(){function r(e){var t,a,E,n;this._root=e.root,this._root||(Pr(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new lr),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new lr,this._remoteParentNotSampled=(a=e.remoteParentNotSampled)!==null&&a!==void 0?a:new Yr,this._localParentSampled=(E=e.localParentSampled)!==null&&E!==void 0?E:new lr,this._localParentNotSampled=(n=e.localParentNotSampled)!==null&&n!==void 0?n:new Yr}return r.prototype.shouldSample=function(e,t,a,E,n,o){var _=b.getSpanContext(e);return!_||!Br(_)?this._root.shouldSample(e,t,a,E,n,o):_.isRemote?_.traceFlags&or.SAMPLED?this._remoteParentSampled.shouldSample(e,t,a,E,n,o):this._remoteParentNotSampled.shouldSample(e,t,a,E,n,o):_.traceFlags&or.SAMPLED?this._localParentSampled.shouldSample(e,t,a,E,n,o):this._localParentNotSampled.shouldSample(e,t,a,E,n,o)},r.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},r}();var Me=function(){function r(e){e===void 0&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}return r.prototype.shouldSample=function(e,t){return{decision:ct(t)&&this._accumulate(t)<this._upperBound?Gr.RECORD_AND_SAMPLED:Gr.NOT_RECORD}},r.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},r.prototype._normalize=function(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e},r.prototype._accumulate=function(e){for(var t=0,a=0;a<e.length/8;a++){var E=a*8,n=parseInt(e.slice(E,E+8),16);t=(t^n)>>>0}return t},r}();var li=ir.AlwaysOn,Pe=1;function yt(){var r=mr();return{sampler:Wa(r),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:r.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:r.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:r.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:r.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:r.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:r.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function Wa(r){switch(r===void 0&&(r=mr()),r.OTEL_TRACES_SAMPLER){case ir.AlwaysOn:return new lr;case ir.AlwaysOff:return new Yr;case ir.ParentBasedAlwaysOn:return new bt({root:new lr});case ir.ParentBasedAlwaysOff:return new bt({root:new Yr});case ir.TraceIdRatio:return new Me(_o(r));case ir.ParentBasedTraceIdRatio:return new bt({root:new Me(_o(r))});default:return R.error('OTEL_TRACES_SAMPLER value "'+r.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+li+'".'),new lr}}function _o(r){if(r.OTEL_TRACES_SAMPLER_ARG===void 0||r.OTEL_TRACES_SAMPLER_ARG==="")return R.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+Pe+"."),Pe;var e=Number(r.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(R.error("OTEL_TRACES_SAMPLER_ARG="+r.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+Pe+"."),Pe):e<0||e>1?(R.error("OTEL_TRACES_SAMPLER_ARG="+r.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+Pe+"."),Pe):e}function So(r){var e={sampler:Wa()},t=yt(),a=Object.assign({},t,e,r);return a.generalLimits=Object.assign({},t.generalLimits,r.generalLimits||{}),a.spanLimits=Object.assign({},t.spanLimits,r.spanLimits||{}),a}function To(r){var e,t,a,E,n,o,_,i,S,T,A,s,p=Object.assign({},r.spanLimits),v=Dt();return p.attributeCountLimit=(o=(n=(E=(t=(e=r.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&t!==void 0?t:(a=r.generalLimits)===null||a===void 0?void 0:a.attributeCountLimit)!==null&&E!==void 0?E:v.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&n!==void 0?n:v.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:Ne,p.attributeValueLengthLimit=(s=(A=(T=(i=(_=r.spanLimits)===null||_===void 0?void 0:_.attributeValueLengthLimit)!==null&&i!==void 0?i:(S=r.generalLimits)===null||S===void 0?void 0:S.attributeValueLengthLimit)!==null&&T!==void 0?T:v.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&A!==void 0?A:v.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&s!==void 0?s:ue,Object.assign({},r,{spanLimits:p})}var io=function(){function r(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var a=mr();this._maxExportBatchSize=typeof t?.maxExportBatchSize=="number"?t.maxExportBatchSize:a.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof t?.maxQueueSize=="number"?t.maxQueueSize:a.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof t?.scheduledDelayMillis=="number"?t.scheduledDelayMillis:a.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof t?.exportTimeoutMillis=="number"?t.exportTimeoutMillis:a.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Ha(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(R.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return r.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},r.prototype.onStart=function(e,t){},r.prototype.onEnd=function(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&or.SAMPLED)!==0&&this._addToBuffer(e)},r.prototype.shutdown=function(){return this._shutdownOnce.call()},r.prototype._shutdown=function(){var e=this;return Promise.resolve().then(function(){return e.onShutdown()}).then(function(){return e._flushAll()}).then(function(){return e._exporter.shutdown()})},r.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&R.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(R.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},r.prototype._flushAll=function(){var e=this;return new Promise(function(t,a){for(var E=[],n=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize),o=0,_=n;o<_;o++)E.push(e._flushOneBatch());Promise.all(E).then(function(){t()}).catch(a)})},r.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(t,a){var E=setTimeout(function(){a(new Error("Timeout"))},e._exportTimeoutMillis);h.with(ha(h.active()),function(){var n;e._finishedSpans.length<=e._maxExportBatchSize?(n=e._finishedSpans,e._finishedSpans=[]):n=e._finishedSpans.splice(0,e._maxExportBatchSize);for(var o=function(){return e._exporter.export(n,function(A){var s;clearTimeout(E),A.code===ar.SUCCESS?t():a((s=A.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})},_=null,i=0,S=n.length;i<S;i++){var T=n[i];T.resource.asyncAttributesPending&&T.resource.waitForAsyncAttributes&&(_??(_=[]),_.push(T.resource.waitForAsyncAttributes()))}_===null?o():Promise.all(_).then(o,function(A){Pr(A),a(A)})})})},r.prototype._maybeStartTimer=function(){var e=this;if(!this._isExporting){var t=function(){e._isExporting=!0,e._flushOneBatch().finally(function(){e._isExporting=!1,e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())}).catch(function(a){e._isExporting=!1,Pr(a)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();this._timer===void 0&&(this._timer=setTimeout(function(){return t()},this._scheduledDelayMillis),this._timer,void 0)}},r.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},r}();var Ci=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,E){a.__proto__=E}||function(a,E){for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(a[n]=E[n])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),ne=function(r){Ci(e,r);function e(t,a){var E=r.call(this,t,a)||this;return E.onInit(a),E}return e.prototype.onInit=function(t){var a=this;t?.disableAutoFlushOnDocumentHide!==!0&&typeof document<"u"&&(this._visibilityChangeListener=function(){document.visibilityState==="hidden"&&a.forceFlush().catch(function(E){Pr(E)})},this._pageHideListener=function(){a.forceFlush().catch(function(E){Pr(E)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},e.prototype.onShutdown=function(){typeof document<"u"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},e}(io);var Li=8,di=16,Yt=function(){function r(){this.generateTraceId=Ao(di),this.generateSpanId=Ao(Li)}return r}();var Gt=Array(32);function Ao(r){return function(){for(var t=0;t<r*2;t++)Gt[t]=Math.floor(Math.random()*16)+48,Gt[t]>=58&&(Gt[t]+=39);return String.fromCharCode.apply(null,Gt.slice(0,r*2))}}var so=function(){function r(e,t,a){this._tracerProvider=a;var E=So(t);this._sampler=E.sampler,this._generalLimits=E.generalLimits,this._spanLimits=E.spanLimits,this._idGenerator=t.idGenerator||new Yt,this.resource=a.resource,this.instrumentationLibrary=e}return r.prototype.startSpan=function(e,t,a){var E,n,o;t===void 0&&(t={}),a===void 0&&(a=h.active()),t.root&&(a=b.deleteSpan(a));var _=b.getSpan(a);if(ee(a)){R.debug("Instrumentation suppressed, returning Noop Span");var i=b.wrapSpanContext(ge);return i}var S=_?.spanContext(),T=this._idGenerator.generateSpanId(),A,s,p;!S||!b.isSpanContextValid(S)?A=this._idGenerator.generateTraceId():(A=S.traceId,s=S.traceState,p=S.spanId);var v=(E=t.kind)!==null&&E!==void 0?E:br.INTERNAL,l=((n=t.links)!==null&&n!==void 0?n:[]).map(function(k){return{context:k.context,attributes:te(k.attributes)}}),f=te(t.attributes),N=this._sampler.shouldSample(a,A,e,v,f,l);s=(o=N.traceState)!==null&&o!==void 0?o:s;var c=N.decision===se.RECORD_AND_SAMPLED?or.SAMPLED:or.NONE,D={traceId:A,spanId:T,traceFlags:c,traceState:s};if(N.decision===se.NOT_RECORD){R.debug("Recording is off, propagating context in a non-recording span");var i=b.wrapSpanContext(D);return i}var y=te(Object.assign(f,N.attributes)),X=new oo(this,a,e,D,v,p,l,t.startTime,void 0,y);return X},r.prototype.startActiveSpan=function(e,t,a,E){var n,o,_;if(!(arguments.length<2)){arguments.length===2?_=t:arguments.length===3?(n=t,_=a):(n=t,o=a,_=E);var i=o??h.active(),S=this.startSpan(e,n,i),T=b.setSpan(i,S);return h.with(T,_,void 0,S)}},r.prototype.getGeneralLimits=function(){return this._generalLimits},r.prototype.getSpanLimits=function(){return this._spanLimits},r.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},r}();var Ht=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],a=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ka=function(){function r(e){this._spanProcessors=e}return r.prototype.forceFlush=function(){var e,t,a=[];try{for(var E=Ht(this._spanProcessors),n=E.next();!n.done;n=E.next()){var o=n.value;a.push(o.forceFlush())}}catch(_){e={error:_}}finally{try{n&&!n.done&&(t=E.return)&&t.call(E)}finally{if(e)throw e.error}}return new Promise(function(_){Promise.all(a).then(function(){_()}).catch(function(i){Pr(i||new Error("MultiSpanProcessor: forceFlush failed")),_()})})},r.prototype.onStart=function(e,t){var a,E;try{for(var n=Ht(this._spanProcessors),o=n.next();!o.done;o=n.next()){var _=o.value;_.onStart(e,t)}}catch(i){a={error:i}}finally{try{o&&!o.done&&(E=n.return)&&E.call(n)}finally{if(a)throw a.error}}},r.prototype.onEnd=function(e){var t,a;try{for(var E=Ht(this._spanProcessors),n=E.next();!n.done;n=E.next()){var o=n.value;o.onEnd(e)}}catch(_){t={error:_}}finally{try{n&&!n.done&&(a=E.return)&&a.call(E)}finally{if(t)throw t.error}}},r.prototype.shutdown=function(){var e,t,a=[];try{for(var E=Ht(this._spanProcessors),n=E.next();!n.done;n=E.next()){var o=n.value;a.push(o.shutdown())}}catch(_){e={error:_}}finally{try{n&&!n.done&&(t=E.return)&&t.call(E)}finally{if(e)throw e.error}}return new Promise(function(_,i){Promise.all(a).then(function(){_()},i)})},r}();var po=function(){function r(){}return r.prototype.onStart=function(e,t){},r.prototype.onEnd=function(e){},r.prototype.shutdown=function(){return Promise.resolve()},r.prototype.forceFlush=function(){return Promise.resolve()},r}();var Di=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},fi=function(r,e,t){if(t||arguments.length===2)for(var a=0,E=e.length,n;a<E;a++)(n||!(a in e))&&(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return r.concat(n||Array.prototype.slice.call(e))},Xr;(function(r){r[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved"})(Xr||(Xr={}));var Xa=function(){function r(e){e===void 0&&(e={});var t,a;this._registeredSpanProcessors=[],this._tracers=new Map;var E=Ya({},yt(),To(e));if(this.resource=(t=E.resource)!==null&&t!==void 0?t:z.empty(),E.mergeResourceWithDefaults&&(this.resource=z.default().merge(this.resource)),this._config=Object.assign({},E,{resource:this.resource}),!((a=e.spanProcessors)===null||a===void 0)&&a.length)this._registeredSpanProcessors=fi([],Di(e.spanProcessors),!1),this.activeSpanProcessor=new ka(this._registeredSpanProcessors);else{var n=this._buildExporterFromEnv();if(n!==void 0){var o=new ne(n);this.activeSpanProcessor=o}else this.activeSpanProcessor=new po}}return r.prototype.getTracer=function(e,t,a){var E=e+"@"+(t||"")+":"+(a?.schemaUrl||"");return this._tracers.has(E)||this._tracers.set(E,new so({name:e,version:t,schemaUrl:a?.schemaUrl},this._config,this)),this._tracers.get(E)},r.prototype.addSpanProcessor=function(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(t){return R.error("Error while trying to shutdown current span processor",t)}),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new ka(this._registeredSpanProcessors)},r.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},r.prototype.register=function(e){e===void 0&&(e={}),b.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&h.setGlobalContextManager(e.contextManager),e.propagator&&q.setGlobalPropagator(e.propagator)},r.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(function(a){return new Promise(function(E){var n,o=setTimeout(function(){E(new Error("Span processor did not completed within timeout period of "+e+" ms")),n=Xr.timeout},e);a.forceFlush().then(function(){clearTimeout(o),n!==Xr.timeout&&(n=Xr.resolved,E(n))}).catch(function(_){clearTimeout(o),n=Xr.error,E(_)})})});return new Promise(function(a,E){Promise.all(t).then(function(n){var o=n.filter(function(_){return _!==Xr.resolved});o.length>0?E(o):a()}).catch(function(n){return E([n])})})},r.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},r.prototype._getPropagator=function(e){var t;return(t=this.constructor._registeredPropagators.get(e))===null||t===void 0?void 0:t()},r.prototype._getSpanExporter=function(e){var t;return(t=this.constructor._registeredExporters.get(e))===null||t===void 0?void 0:t()},r.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set(mr().OTEL_PROPAGATORS)),a=t.map(function(n){var o=e._getPropagator(n);return o||R.warn('Propagator "'+n+'" requested through environment variable is unavailable.'),o}),E=a.reduce(function(n,o){return o&&n.push(o),n},[]);if(E.length!==0)return t.length===1?E[0]:new ga({propagators:E})},r.prototype._buildExporterFromEnv=function(){var e=mr().OTEL_TRACES_EXPORTER;if(!(e==="none"||e==="")){var t=this._getSpanExporter(e);return t||R.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},r._registeredPropagators=new Map([["tracecontext",function(){return new ba}],["baggage",function(){return new xa}]]),r._registeredExporters=new Map,r}();var Ii=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},Ui=function(r,e,t){if(t||arguments.length===2)for(var a=0,E=e.length,n;a<E;a++)(n||!(a in e))&&(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return r.concat(n||Array.prototype.slice.call(e))},vo=function(){function r(){this._enabled=!1,this._currentContext=Mr}return r.prototype._bindFunction=function(e,t){e===void 0&&(e=Mr);var a=this,E=function(){for(var n=this,o=[],_=0;_<arguments.length;_++)o[_]=arguments[_];return a.with(e,function(){return t.apply(n,o)})};return Object.defineProperty(E,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),E},r.prototype.active=function(){return this._currentContext},r.prototype.bind=function(e,t){return e===void 0&&(e=this.active()),typeof t=="function"?this._bindFunction(e,t):t},r.prototype.disable=function(){return this._currentContext=Mr,this._enabled=!1,this},r.prototype.enable=function(){return this._enabled?this:(this._enabled=!0,this._currentContext=Mr,this)},r.prototype.with=function(e,t,a){for(var E=[],n=3;n<arguments.length;n++)E[n-3]=arguments[n];var o=this._currentContext;this._currentContext=e||Mr;try{return t.call.apply(t,Ui([a],Ii(E),!1))}finally{this._currentContext=o}},r}();var mi=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,E){a.__proto__=E}||function(a,E){for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(a[n]=E[n])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),ja=function(r){mi(e,r);function e(t){t===void 0&&(t={});var a=r.call(this,t)||this;if(t.contextManager)throw"contextManager should be defined in register method not in constructor";if(t.propagator)throw"propagator should be defined in register method not in constructor";return a}return e.prototype.register=function(t){t===void 0&&(t={}),t.contextManager===void 0&&(t.contextManager=new vo),t.contextManager&&t.contextManager.enable(),r.prototype.register.call(this,t)},e}(Xa);var I;(function(r){r.CONNECT_END="connectEnd",r.CONNECT_START="connectStart",r.DECODED_BODY_SIZE="decodedBodySize",r.DOM_COMPLETE="domComplete",r.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",r.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",r.DOM_INTERACTIVE="domInteractive",r.DOMAIN_LOOKUP_END="domainLookupEnd",r.DOMAIN_LOOKUP_START="domainLookupStart",r.ENCODED_BODY_SIZE="encodedBodySize",r.FETCH_START="fetchStart",r.LOAD_EVENT_END="loadEventEnd",r.LOAD_EVENT_START="loadEventStart",r.NAVIGATION_START="navigationStart",r.REDIRECT_END="redirectEnd",r.REDIRECT_START="redirectStart",r.REQUEST_START="requestStart",r.RESPONSE_END="responseEnd",r.RESPONSE_START="responseStart",r.SECURE_CONNECTION_START="secureConnectionStart",r.UNLOAD_EVENT_END="unloadEventEnd",r.UNLOAD_EVENT_START="unloadEventStart"})(I||(I={}));var hi="http.response_content_length",xi="http.response_content_length_uncompressed";var uo=hi,No=xi;var Qa;function Vi(){return Qa||(Qa=document.createElement("a")),Qa}function Cr(r,e){return e in r}function J(r,e,t,a){var E=void 0,n=void 0;Cr(t,e)&&typeof t[e]=="number"&&(E=t[e]);var o=a||I.FETCH_START;if(Cr(t,o)&&typeof t[o]=="number"&&(n=t[o]),E!==void 0&&n!==void 0&&E>=n)return r.addEvent(e,E),r}function hr(r,e,t){t===void 0&&(t=!1),t||(J(r,I.FETCH_START,e),J(r,I.DOMAIN_LOOKUP_START,e),J(r,I.DOMAIN_LOOKUP_END,e),J(r,I.CONNECT_START,e),Cr(e,"name")&&e.name.startsWith("https:")&&J(r,I.SECURE_CONNECTION_START,e),J(r,I.CONNECT_END,e),J(r,I.REQUEST_START,e),J(r,I.RESPONSE_START,e),J(r,I.RESPONSE_END,e));var a=e[I.ENCODED_BODY_SIZE];a!==void 0&&r.setAttribute(uo,a);var E=e[I.DECODED_BODY_SIZE];E!==void 0&&a!==E&&r.setAttribute(No,E)}function co(r){return r.slice().sort(function(e,t){var a=e[I.FETCH_START],E=t[I.FETCH_START];return a>E?1:a<E?-1:0})}function Ro(){return typeof location<"u"?location.origin:void 0}function ke(r,e,t,a,E,n){E===void 0&&(E=new WeakSet);var o=Nr(r);r=o.toString();var _=Bi(r,e,t,a,E,n);if(_.length===0)return{mainRequest:void 0};if(_.length===1)return{mainRequest:_[0]};var i=co(_);if(o.origin!==Ro()&&i.length>1){var S=i[0],T=gi(i,S[I.RESPONSE_END],t),A=S[I.RESPONSE_END],s=T[I.FETCH_START];return s<A&&(T=S,S=void 0),{corsPreFlightRequest:S,mainRequest:T}}else return{mainRequest:_[0]}}function gi(r,e,t){for(var a=ur(t),E=ur(ae(e)),n=r[1],o,_=r.length,i=1;i<_;i++){var S=r[i],T=ur(ae(S[I.FETCH_START])),A=ur(ae(S[I.RESPONSE_END])),s=a-A;T>=E&&(!o||s<o)&&(o=s,n=S)}return n}function Bi(r,e,t,a,E,n){var o=ur(e),_=ur(t),i=a.filter(function(S){var T=ur(ae(S[I.FETCH_START])),A=ur(ae(S[I.RESPONSE_END]));return S.initiatorType.toLowerCase()===(n||"xmlhttprequest")&&S.name===r&&T>=o&&A<=_});return i.length>0&&(i=i.filter(function(S){return!E.has(S)})),i}function Nr(r){if(typeof URL=="function")return new URL(r,typeof document<"u"?document.baseURI:typeof location<"u"?location.href:void 0);var e=Vi();return e.href=r,e}function le(r,e){if(r.nodeType===Node.DOCUMENT_NODE)return"/";var t=yi(r,e);if(e&&t.indexOf("@id")>0)return t;var a="";return r.parentNode&&(a+=le(r.parentNode,!1)),a+=t,a}function bi(r){if(!r.parentNode)return 0;var e=[r.nodeType];r.nodeType===Node.CDATA_SECTION_NODE&&e.push(Node.TEXT_NODE);var t=Array.from(r.parentNode.childNodes);return t=t.filter(function(a){var E=a.localName;return e.indexOf(a.nodeType)>=0&&E===r.localName}),t.length>=1?t.indexOf(r)+1:0}function yi(r,e){var t=r.nodeType,a=bi(r),E="";if(t===Node.ELEMENT_NODE){var n=r.getAttribute("id");if(e&&n)return'//*[@id="'+n+'"]';E=r.localName}else if(t===Node.TEXT_NODE||t===Node.CDATA_SECTION_NODE)E="text()";else if(t===Node.COMMENT_NODE)E="comment()";else return"";return E&&a>1?"/"+E+"["+a+"]":"/"+E}function Xe(r,e){var t=e||[];(typeof t=="string"||t instanceof RegExp)&&(t=[t]);var a=Nr(r);return a.origin===Ro()?!0:t.some(function(E){return Vt(r,E)})}var Yi="http.url";var Hi="http.user_agent";var wt=Yi;var Oo=Hi;var wi="service.name";var Mo=wi;var Po="exception.message",lo="exception.stacktrace",Co="exception.type";var jr={PLATFORM:"browser.platform",BRANDS:"browser.brands",MOBILE:"browser.mobile",LANGUAGE:"browser.language",USER_AGENT:"browser.user_agent"};var Fi=function(r,e,t,a){function E(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function _(T){try{S(a.next(T))}catch(A){o(A)}}function i(T){try{S(a.throw(T))}catch(A){o(A)}}function S(T){T.done?n(T.value):E(T.value).then(_,i)}S((a=a.apply(r,e||[])).next())})},Ki=function(r,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,E,n,o;return o={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function _(S){return function(T){return i([S,T])}}function i(S){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,E&&(n=S[0]&2?E.return:S[0]?E.throw||((n=E.return)&&n.call(E),0):E.next)&&!(n=n.call(E,S[1])).done)return n;switch(E=0,n&&(S=[S[0]&2,n.value]),S[0]){case 0:case 1:n=S;break;case 4:return t.label++,{value:S[1],done:!1};case 5:t.label++,E=S[1],S=[0];continue;case 7:S=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(S[0]===6||S[0]===2)){t=0;continue}if(S[0]===3&&(!n||S[1]>n[0]&&S[1]<n[3])){t.label=S[1];break}if(S[0]===6&&t.label<n[1]){t.label=n[1],n=S;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(S);break}n[2]&&t.ops.pop(),t.trys.pop();continue}S=e.call(r,t)}catch(T){S=[6,T],E=0}finally{a=n=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Wi=function(){function r(){}return r.prototype.detect=function(e){return Fi(this,void 0,void 0,function(){var t,a;return Ki(this,function(E){return t=typeof navigator<"u",t?(a=ki(),[2,this._getResourceAttributes(a,e)]):[2,z.empty()]})})},r.prototype._getResourceAttributes=function(e,t){return!e[jr.USER_AGENT]&&!e[jr.PLATFORM]?(R.debug("BrowserDetector failed: Unable to find required browser resources. "),z.empty()):new z(e)},r}();function ki(){var r={},e=navigator.userAgentData;return e?(r[jr.PLATFORM]=e.platform,r[jr.BRANDS]=e.brands.map(function(t){return t.brand+" "+t.version}),r[jr.MOBILE]=e.mobile):r[jr.USER_AGENT]=navigator.userAgent,r[jr.LANGUAGE]=navigator.language,r}var za=new Wi;var je="0.13.0",Lo="@honeycombio/user-instrumentation",Xi=["click"],Ft=class r extends sr{constructor(e={}){var t,a;super(Lo,je,e),this._config=e,this._isEnabled=(t=this._config.enabled)!==null&&t!==void 0?t:!1,this._listeners=(a=this._listeners)!==null&&a!==void 0?a:[]}init(){}static handleEndSpan(e){var t;(t=r._eventMap.get(e))===null||t===void 0||t.end()}static createGlobalEventListener(e,t,a){return E=>{let n=E.target;if(a()===!1||r._eventMap.has(E)||!ji(E,n,e,t))return;let o=le(n),_=b.getTracer(Lo);h.with(h.active(),()=>{_.startActiveSpan(e,{attributes:{event_type:e,target_element:n.tagName,target_xpath:o,"http.url":window.location.href}},i=>{Do(E,"stopPropagation",i),Do(E,"stopImmediatePropagation",i),r._eventMap.set(E,i)})})}}enable(){var e;if(this._isEnabled)return;let t=this.getRootNode();this._listeners=[],((e=this._config.eventNames)!==null&&e!==void 0?e:Xi).forEach(E=>{let n=r.createGlobalEventListener(E,this._config.rootNodeId,()=>this._isEnabled);this._listeners.push({eventName:E,handler:n}),t.addEventListener(E,n,{capture:!0}),t.addEventListener(E,r.handleEndSpan)}),this._isEnabled=!0}getRootNode(){if(this._config.rootNodeId){let e=document.getElementById(this._config.rootNodeId);return e===null?(this._diag.warn(`Root Node id: ${this._config.rootNodeId} not found!`),document):e}return document}disable(){this._isEnabled=!1,this._listeners.forEach(({eventName:e,handler:t})=>{document.removeEventListener(e,t,{capture:!0}),document.removeEventListener(e,r.handleEndSpan)}),this._listeners=[]}};Ft._eventMap=new WeakMap;var ji=(r,e,t,a)=>{if(!(e instanceof HTMLElement))return!1;let E=`on${t}`;return!(!fo(e,E,a)||!e.getAttribute||e.hasAttribute("disabled"))},fo=(r,e,t)=>!r||t&&r.id===t?!1:r[e]?!0:fo(r.parentElement,e,t),Do=(r,e,t)=>{let a=r[e].bind(r);r[e]=()=>{t.end(),a()}};var c_=At(Io());var Za=function(){function r(e){this._delegate=e}return r.prototype.export=function(e,t){this._delegate.export(e,t)},r.prototype.forceFlush=function(){return this._delegate.forceFlush()},r.prototype.shutdown=function(){return this._delegate.shutdown()},r}();var Qi=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,E){a.__proto__=E}||function(a,E){for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(a[n]=E[n])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),qa=function(r){Qi(e,r);function e(t,a,E){var n=r.call(this,t)||this;return n.name="OTLPExporterError",n.data=E,n.code=a,n}return e}(Error);function zi(r){if(!Number.isNaN(r)&&Number.isFinite(r)&&r>0)return r;throw new Error("Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '"+r+"')")}function Uo(r){if(r!=null)return function(){return r}}function mo(r,e,t){var a,E,n,o,_,i;return{timeoutMillis:zi((E=(a=r.timeoutMillis)!==null&&a!==void 0?a:e.timeoutMillis)!==null&&E!==void 0?E:t.timeoutMillis),concurrencyLimit:(o=(n=r.concurrencyLimit)!==null&&n!==void 0?n:e.concurrencyLimit)!==null&&o!==void 0?o:t.concurrencyLimit,compression:(i=(_=r.compression)!==null&&_!==void 0?_:e.compression)!==null&&i!==void 0?i:t.compression}}function ho(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}var Zi=function(r,e,t,a){function E(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function _(T){try{S(a.next(T))}catch(A){o(A)}}function i(T){try{S(a.throw(T))}catch(A){o(A)}}function S(T){T.done?n(T.value):E(T.value).then(_,i)}S((a=a.apply(r,e||[])).next())})},qi=function(r,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,E,n,o;return o={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function _(S){return function(T){return i([S,T])}}function i(S){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,E&&(n=S[0]&2?E.return:S[0]?E.throw||((n=E.return)&&n.call(E),0):E.next)&&!(n=n.call(E,S[1])).done)return n;switch(E=0,n&&(S=[S[0]&2,n.value]),S[0]){case 0:case 1:n=S;break;case 4:return t.label++,{value:S[1],done:!1};case 5:t.label++,E=S[1],S=[0];continue;case 7:S=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(S[0]===6||S[0]===2)){t=0;continue}if(S[0]===3&&(!n||S[1]>n[0]&&S[1]<n[3])){t.label=S[1];break}if(S[0]===6&&t.label<n[1]){t.label=n[1],n=S;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(S);break}n[2]&&t.ops.pop(),t.trys.pop();continue}S=e.call(r,t)}catch(T){S=[6,T],E=0}finally{a=n=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Ji=function(){function r(e){this._sendingPromises=[],this._concurrencyLimit=e}return r.prototype.pushPromise=function(e){var t=this;if(this.hasReachedLimit())throw new Error("Concurrency Limit reached");this._sendingPromises.push(e);var a=function(){var E=t._sendingPromises.indexOf(e);t._sendingPromises.splice(E,1)};e.then(a,a)},r.prototype.hasReachedLimit=function(){return this._sendingPromises.length>=this._concurrencyLimit},r.prototype.awaitAll=function(){return Zi(this,void 0,void 0,function(){return qi(this,function(e){switch(e.label){case 0:return[4,Promise.all(this._sendingPromises)];case 1:return e.sent(),[2]}})})},r}();function xo(r){return new Ji(r.concurrencyLimit)}function $i(r){return Object.prototype.hasOwnProperty.call(r,"partialSuccess")}function Vo(){return{handleResponse:function(r){r==null||!$i(r)||r.partialSuccess==null||Object.keys(r.partialSuccess).length===0||R.warn("Received Partial Success response:",JSON.stringify(r.partialSuccess))}}}var rA=function(r,e,t,a){function E(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function _(T){try{S(a.next(T))}catch(A){o(A)}}function i(T){try{S(a.throw(T))}catch(A){o(A)}}function S(T){T.done?n(T.value):E(T.value).then(_,i)}S((a=a.apply(r,e||[])).next())})},eA=function(r,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,E,n,o;return o={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function _(S){return function(T){return i([S,T])}}function i(S){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,E&&(n=S[0]&2?E.return:S[0]?E.throw||((n=E.return)&&n.call(E),0):E.next)&&!(n=n.call(E,S[1])).done)return n;switch(E=0,n&&(S=[S[0]&2,n.value]),S[0]){case 0:case 1:n=S;break;case 4:return t.label++,{value:S[1],done:!1};case 5:t.label++,E=S[1],S=[0];continue;case 7:S=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(S[0]===6||S[0]===2)){t=0;continue}if(S[0]===3&&(!n||S[1]>n[0]&&S[1]<n[3])){t.label=S[1];break}if(S[0]===6&&t.label<n[1]){t.label=n[1],n=S;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(S);break}n[2]&&t.ops.pop(),t.trys.pop();continue}S=e.call(r,t)}catch(T){S=[6,T],E=0}finally{a=n=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},tA=function(){function r(e,t,a,E,n){this._transport=e,this._serializer=t,this._responseHandler=a,this._promiseQueue=E,this._timeout=n,this._diagLogger=R.createComponentLogger({namespace:"OTLPExportDelegate"})}return r.prototype.export=function(e,t){var a=this;if(this._diagLogger.debug("items to be sent",e),this._promiseQueue.hasReachedLimit()){t({code:ar.FAILED,error:new Error("Concurrent export limit reached")});return}var E=this._serializer.serializeRequest(e);if(E==null){t({code:ar.FAILED,error:new Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(E,this._timeout).then(function(n){if(n.status==="success"){if(n.data!=null)try{a._responseHandler.handleResponse(a._serializer.deserializeResponse(n.data))}catch(o){a._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",o,n.data)}t({code:ar.SUCCESS});return}else if(n.status==="failure"&&n.error){t({code:ar.FAILED,error:n.error});return}else n.status==="retryable"?t({code:ar.FAILED,error:new qa("Export failed with retryable status")}):t({code:ar.FAILED,error:new qa("Export failed with unknown error")})},function(n){return t({code:ar.FAILED,error:n})}))},r.prototype.forceFlush=function(){return this._promiseQueue.awaitAll()},r.prototype.shutdown=function(){return rA(this,void 0,void 0,function(){return eA(this,function(e){switch(e.label){case 0:return this._diagLogger.debug("shutdown started"),[4,this.forceFlush()];case 1:return e.sent(),this._transport.shutdown(),[2]}})})},r}();function go(r,e){return new tA(r.transport,r.serializer,Vo(),r.promiseHandler,e.timeout)}function Ja(r,e,t){return go({transport:t,serializer:e,promiseHandler:xo(r)},{timeout:r.timeoutMillis})}function bo(r){var e=BigInt(1e9);return BigInt(r[0])*e+BigInt(r[1])}function aA(r){var e=Number(BigInt.asUintN(32,r)),t=Number(BigInt.asUintN(32,r>>BigInt(32)));return{low:e,high:t}}function yo(r){var e=bo(r);return aA(e)}function EA(r){var e=bo(r);return e.toString()}var nA=typeof BigInt<"u"?EA:ur;function Bo(r){return r}function Go(r){if(r!==void 0)return He(r)}var oA={encodeHrTime:yo,encodeSpanContext:He,encodeOptionalSpanContext:Go};function Yo(r){var e,t;if(r===void 0)return oA;var a=(e=r.useLongBits)!==null&&e!==void 0?e:!0,E=(t=r.useHex)!==null&&t!==void 0?t:!1;return{encodeHrTime:a?yo:nA,encodeSpanContext:E?Bo:He,encodeOptionalSpanContext:E?Bo:Go}}var _A=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n};function Ho(r){return{attributes:ze(r.attributes),droppedAttributesCount:0}}function wo(r){return{name:r.name,version:r.version}}function ze(r){return Object.keys(r).map(function(e){return Fo(e,r[e])})}function Fo(r,e){return{key:r,value:Ko(e)}}function Ko(r){var e=typeof r;return e==="string"?{stringValue:r}:e==="number"?Number.isInteger(r)?{intValue:r}:{doubleValue:r}:e==="boolean"?{boolValue:r}:r instanceof Uint8Array?{bytesValue:r}:Array.isArray(r)?{arrayValue:{values:r.map(Ko)}}:e==="object"&&r!=null?{kvlistValue:{values:Object.entries(r).map(function(t){var a=_A(t,2),E=a[0],n=a[1];return Fo(E,n)})}}:{}}var SA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],a=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TA=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n};function iA(r,e){var t,a=r.spanContext(),E=r.status;return{traceId:e.encodeSpanContext(a.traceId),spanId:e.encodeSpanContext(a.spanId),parentSpanId:e.encodeOptionalSpanContext(r.parentSpanId),traceState:(t=a.traceState)===null||t===void 0?void 0:t.serialize(),name:r.name,kind:r.kind==null?0:r.kind+1,startTimeUnixNano:e.encodeHrTime(r.startTime),endTimeUnixNano:e.encodeHrTime(r.endTime),attributes:ze(r.attributes),droppedAttributesCount:r.droppedAttributesCount,events:r.events.map(function(n){return sA(n,e)}),droppedEventsCount:r.droppedEventsCount,status:{code:E.code,message:E.message},links:r.links.map(function(n){return AA(n,e)}),droppedLinksCount:r.droppedLinksCount}}function AA(r,e){var t;return{attributes:r.attributes?ze(r.attributes):[],spanId:e.encodeSpanContext(r.context.spanId),traceId:e.encodeSpanContext(r.context.traceId),traceState:(t=r.context.traceState)===null||t===void 0?void 0:t.serialize(),droppedAttributesCount:r.droppedAttributesCount||0}}function sA(r,e){return{attributes:r.attributes?ze(r.attributes):[],name:r.name,timeUnixNano:e.encodeHrTime(r.time),droppedAttributesCount:r.droppedAttributesCount||0}}function Wo(r,e){var t=Yo(e);return{resourceSpans:vA(r,t)}}function pA(r){var e,t,a=new Map;try{for(var E=SA(r),n=E.next();!n.done;n=E.next()){var o=n.value,_=a.get(o.resource);_||(_=new Map,a.set(o.resource,_));var i=o.instrumentationLibrary.name+"@"+(o.instrumentationLibrary.version||"")+":"+(o.instrumentationLibrary.schemaUrl||""),S=_.get(i);S||(S=[],_.set(i,S)),S.push(o)}}catch(T){e={error:T}}finally{try{n&&!n.done&&(t=E.return)&&t.call(E)}finally{if(e)throw e.error}}return a}function vA(r,e){for(var t=pA(r),a=[],E=t.entries(),n=E.next();!n.done;){for(var o=TA(n.value,2),_=o[0],i=o[1],S=[],T=i.values(),A=T.next();!A.done;){var s=A.value;if(s.length>0){var p=s.map(function(l){return iA(l,e)});S.push({scope:wo(s[0].instrumentationLibrary),spans:p,schemaUrl:s[0].instrumentationLibrary.schemaUrl})}A=T.next()}var v={resource:Ho(_),scopeSpans:S,schemaUrl:void 0};a.push(v),n=E.next()}return a}var Wt={serializeRequest:function(r){var e=Wo(r,{useHex:!0,useLongBits:!1}),t=new TextEncoder;return t.encode(JSON.stringify(e))},deserializeResponse:function(r){var e=new TextDecoder;return JSON.parse(e.decode(r))}};var uA=function(r,e,t,a){function E(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function _(T){try{S(a.next(T))}catch(A){o(A)}}function i(T){try{S(a.throw(T))}catch(A){o(A)}}function S(T){T.done?n(T.value):E(T.value).then(_,i)}S((a=a.apply(r,e||[])).next())})},NA=function(r,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,E,n,o;return o={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function _(S){return function(T){return i([S,T])}}function i(S){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,E&&(n=S[0]&2?E.return:S[0]?E.throw||((n=E.return)&&n.call(E),0):E.next)&&!(n=n.call(E,S[1])).done)return n;switch(E=0,n&&(S=[S[0]&2,n.value]),S[0]){case 0:case 1:n=S;break;case 4:return t.label++,{value:S[1],done:!1};case 5:t.label++,E=S[1],S=[0];continue;case 7:S=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(S[0]===6||S[0]===2)){t=0;continue}if(S[0]===3&&(!n||S[1]>n[0]&&S[1]<n[3])){t.label=S[1];break}if(S[0]===6&&t.label<n[1]){t.label=n[1],n=S;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(S);break}n[2]&&t.ops.pop(),t.trys.pop();continue}S=e.call(r,t)}catch(T){S=[6,T],E=0}finally{a=n=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},cA=5,RA=1e3,OA=5e3,MA=1.5,ko=.2;function PA(){return Math.random()*(2*ko)-ko}var lA=function(){function r(e){this._transport=e}return r.prototype.retry=function(e,t,a){var E=this;return new Promise(function(n,o){setTimeout(function(){E._transport.send(e,t).then(n,o)},a)})},r.prototype.send=function(e,t){var a;return uA(this,void 0,void 0,function(){var E,n,o,_,i,S,T;return NA(this,function(A){switch(A.label){case 0:return E=Date.now()+t,[4,this._transport.send(e,t)];case 1:n=A.sent(),o=cA,_=RA,A.label=2;case 2:return n.status==="retryable"&&o>0?(o--,i=Math.max(Math.min(_,OA)+PA(),0),_=_*MA,S=(a=n.retryInMillis)!==null&&a!==void 0?a:i,T=E-Date.now(),S>T?[2,n]:[4,this.retry(e,T,S)]):[3,4];case 3:return n=A.sent(),[3,2];case 4:return[2,n]}})})},r.prototype.shutdown=function(){return this._transport.shutdown()},r}();function $a(r){return new lA(r.transport)}function Xo(r){var e=[429,502,503,504];return e.includes(r)}function jo(r){if(r!=null){var e=Number.parseInt(r,10);if(Number.isInteger(e))return e>0?e*1e3:-1;var t=new Date(r).getTime()-Date.now();return t>=0?t:0}}var CA=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},LA=function(){function r(e){this._parameters=e}return r.prototype.send=function(e,t){var a=this;return new Promise(function(E){var n=new XMLHttpRequest;n.timeout=t,n.open("POST",a._parameters.url);var o=a._parameters.headers();Object.entries(o).forEach(function(_){var i=CA(_,2),S=i[0],T=i[1];n.setRequestHeader(S,T)}),n.ontimeout=function(_){E({status:"failure",error:new Error("XHR request timed out")})},n.onreadystatechange=function(){n.status>=200&&n.status<=299?(R.debug("XHR success"),E({status:"success"})):n.status&&Xo(n.status)?E({status:"retryable",retryInMillis:jo(n.getResponseHeader("Retry-After"))}):n.status!==0&&E({status:"failure",error:new Error("XHR request failed with non-retryable status")})},n.onabort=function(){E({status:"failure",error:new Error("XHR request aborted")})},n.onerror=function(){E({status:"failure",error:new Error("XHR request errored")})},n.send(e)})},r.prototype.shutdown=function(){},r}();function Qo(r){return new LA(r)}var dA=function(){function r(e){this._params=e}return r.prototype.send=function(e){var t=this;return new Promise(function(a){navigator.sendBeacon(t._params.url,new Blob([e],{type:t._params.blobType}))?(R.debug("SendBeacon success"),a({status:"success"})):a({status:"failure",error:new Error("SendBeacon failed")})})},r.prototype.shutdown=function(){},r}();function zo(r){return new dA(r)}function Zo(r,e){return Ja(r,e,$a({transport:Qo(r)}))}function qo(r,e){return Ja(r,e,$a({transport:zo({url:r.url,blobType:r.headers()["Content-Type"]})}))}var DA=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n};function Jo(r){return function(){var e,t={};return Object.entries((e=r?.())!==null&&e!==void 0?e:{}).forEach(function(a){var E=DA(a,2),n=E[0],o=E[1];typeof o<"u"?t[n]=String(o):R.warn('Header "'+n+'" has invalid value ('+o+") and will be ignored")}),t}}var oe=function(){return oe=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var E in e)Object.prototype.hasOwnProperty.call(e,E)&&(r[E]=e[E])}return r},oe.apply(this,arguments)};function fA(r,e,t){var a=oe({},t()),E={};return function(){return e!=null&&Object.assign(E,e()),r!=null&&Object.assign(E,r()),Object.assign(E,a)}}function IA(r){if(r!=null)try{return new URL(r),r}catch{throw new Error("Configuration: Could not parse user-provided export URL: '"+r+"'")}}function $o(r,e,t){var a,E,n,o;return oe(oe({},mo(r,e,t)),{headers:fA(Jo(r.headers),e.headers,t.headers),url:(E=(a=IA(r.url))!==null&&a!==void 0?a:e.url)!==null&&E!==void 0?E:t.url,agentOptions:(o=(n=r.agentOptions)!==null&&n!==void 0?n:e.agentOptions)!==null&&o!==void 0?o:t.agentOptions})}function r_(r,e){return oe(oe({},ho()),{headers:function(){return r},url:"http://localhost:4318/"+e,agentOptions:{keepAlive:!0}})}function e_(r,e,t){return $o({url:r.url,timeoutMillis:r.timeoutMillis,headers:Uo(r.headers),concurrencyLimit:r.concurrencyLimit},{},r_(t,e))}function rE(r,e,t,a){var E=!!r.headers||typeof navigator.sendBeacon!="function",n=e_(r,t,a);return E?Zo(n,e):qo(n,e)}var UA=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,E){a.__proto__=E}||function(a,E){for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(a[n]=E[n])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),t_=function(r){UA(e,r);function e(t){return t===void 0&&(t={}),r.call(this,rE(t,Wt,"v1/traces",{"Content-Type":"application/json"}))||this}return e}(Za);var Zr=At(Da()),R_=At(a_()),mA=16,kt=Array(32),aE=class{constructor(){this._idGenerator=hA(mA),this._sessionId=this._idGenerator()}onStart(e){e.setAttribute("session.id",this._sessionId)}onEnd(){}forceFlush(){return Promise.resolve()}shutdown(){return Promise.resolve()}};function hA(r){return function(){for(let t=0;t<r*2;t++)kt[t]=Math.floor(Math.random()*16)+48,kt[t]>=58&&(kt[t]+=39);return String.fromCharCode.apply(null,kt.slice(0,r*2))}}var EE=class{constructor(e={}){var t,a,E,n;if(this._resource=(t=e.resource)!==null&&t!==void 0?t:new z({}),this._resourceDetectors=(a=e.resourceDetectors)!==null&&a!==void 0?a:[za],this._serviceName=e.serviceName,this._autoDetectResources=(E=e.autoDetectResources)!==null&&E!==void 0?E:!0,e.spanProcessor||e.traceExporter){let _={};e.sampler&&(_.sampler=e.sampler),e.spanLimits&&(_.spanLimits=e.spanLimits),e.idGenerator&&(_.idGenerator=e.idGenerator);let i=(n=e.spanProcessor)!==null&&n!==void 0?n:new ne(e.traceExporter);this._tracerProviderConfig={tracerConfig:_,spanProcessor:i,contextManager:e.contextManager,textMapPropagator:e.textMapPropagator}}let o=[];e.instrumentations&&(o=e.instrumentations),this._instrumentations=o}start(){var e,t,a;if(this._disabled)return;if(La({instrumentations:this._instrumentations}),this._autoDetectResources){let n={detectors:this._resourceDetectors};this._resource=this._resource.merge(Fa(n))}this._resource=this._serviceName===void 0?this._resource:this._resource.merge(new z({[Mo]:this._serviceName}));let E=new ja(Object.assign(Object.assign({},(e=this._tracerProviderConfig)===null||e===void 0?void 0:e.tracerConfig),{resource:this._resource}));this._tracerProvider=E,this._tracerProviderConfig&&E.addSpanProcessor(this._tracerProviderConfig.spanProcessor),E.register({contextManager:(t=this._tracerProviderConfig)===null||t===void 0?void 0:t.contextManager,propagator:(a=this._tracerProviderConfig)===null||a===void 0?void 0:a.textMapPropagator}),E.addSpanProcessor(new aE)}getResourceAttributes(){return this._resource.attributes}shutdown(){let e=[];return this._tracerProvider&&e.push(this._tracerProvider.shutdown()),Promise.all(e).then(()=>{})}};function xA(){return new z({"honeycomb.distro.version":je,"honeycomb.distro.runtime_version":"browser"})}var E_={path:!0,hash:!0,hostname:!0,referrer:!0,url:!1,search:!1};function VA(r){if(r===!1||!window?.location)return new z({});let e=gA(r),{href:t,pathname:a,search:E,hash:n,hostname:o}=window.location,_={"entry_page.url":Ce(e.url,t),"entry_page.path":Ce(e.path,a),"entry_page.search":Ce(e.search,E),"entry_page.hash":Ce(e.hash,n),"entry_page.hostname":Ce(e.hostname,o),"entry_page.referrer":Ce(e.referrer,document.referrer)};return new z(_)}function gA(r){return r?Object.assign(Object.assign({},E_),r):E_}function Ce(r,e){if(r)return e}var BA=r=>r<=768?"small":r>768&&r<=1024?"medium":r>1024?"large":"unknown",bA=r=>{var e;return(e=r?.effectiveType)!==null&&e!==void 0?e:"unknown"},yA=(r,e)=>!r&&!e?"unknown":r||"desktop",GA=r=>{let e=new c_.default(r),{name:t,version:a}=e.getBrowser();return{browserName:t??"unknown",browserVersion:a??"unknown",deviceType:yA(e.getDevice().type,t)}};function YA(){let{browserName:r,browserVersion:e,deviceType:t}=GA(navigator.userAgent);return new z({"user_agent.original":navigator.userAgent,"browser.mobile":navigator.userAgent.includes("Mobi"),"browser.touch_screen_enabled":navigator.maxTouchPoints>0,"browser.language":navigator.language,"browser.name":r,"browser.version":e,"device.type":t,"network.effectiveType":bA(navigator.connection),"screen.width":window.screen.width,"screen.height":window.screen.height,"screen.size":BA(window.screen.width)})}function HA(r){let e=n_(r[0]);for(let t=1;t<r.length;t++){if(!r[t])continue;let a=n_(r[t]);e=e.merge(a)}return e}function n_(r){return r instanceof z?r:r?new z(r):new z({})}var wA="https://api.honeycomb.io",qe="v1/traces",nE=`${wA}/${qe}`,FA="unknown_service",KA=1,jt={apiKey:"",tracesApiKey:"",endpoint:nE,tracesEndpoint:nE,serviceName:FA,debug:!1,sampleRate:1,skipOptionsValidation:!1,localVisualizations:!1,webVitalsInstrumentationConfig:{enabled:!0}},Er=r=>`@honeycombio/opentelemetry-web: ${r}`,WA=/^[a-f0-9]*$/,kA=/^hc[a-z]ic_[a-z0-9]*$/;function Qt(r){return r==null||r.length===0?!1:r.length===32?WA.test(r):r.length===64?kA.test(r):!1}function XA(r){return r.endsWith(qe)||r.endsWith(`${qe}/`)?r:r.endsWith("/")?r+qe:r+"/"+qe}var $t=r=>r?.tracesEndpoint?r.tracesEndpoint:r?.endpoint?XA(r.endpoint):nE,cE=r=>r?.tracesApiKey||r?.apiKey,O_=r=>typeof r?.sampleRate=="number"&&Number.isSafeInteger(r?.sampleRate)&&r?.sampleRate>=0?r?.sampleRate:KA,M_=Er("\u274C Missing API Key. Set `apiKey` in HoneycombOptions. Telemetry will not be exported."),P_=Er(`\u274C Missing Service Name. Set \`serviceName\` in HoneycombOptions. Defaulting to '${jt.serviceName}'`),jA=Er("\u{1F515} Dataset is ignored in favor of service name."),QA=Er("\u274C Missing dataset. Specify either HONEYCOMB_DATASET environment variable or dataset in the options parameter."),zA=Er("\u23ED\uFE0F Skipping options validation. To re-enable, set skipOptionsValidation option or HONEYCOMB_SKIP_OPTIONS_VALIDATION to false."),ZA=Er("\u{1F528} Default deterministic sampler has been overridden. Honeycomb requires a resource attribute called SampleRate to properly show weighted values. Non-deterministic sampleRate could lead to missing spans in Honeycomb. See our docs for more details. https://docs.honeycomb.io/getting-data-in/opentelemetry/node-distro/#sampling-without-the-honeycomb-sdk"),qA=Er("\u{1F515} Disabling local visualizations - must have both service name and API key configured."),JA=Er("\u{1F515} Disabling local visualizations - cannot infer auth and ui url roots from endpoint url."),$A=Er("\u{1F515} Failed to get proper auth response from Honeycomb. No local visualization available."),rs=Er("\u{1F515} Default honeycomb exporter disabled but no exporters provided"),es=r=>{var e;let t=r?.logLevel?r.logLevel:G.DEBUG;if(r?.skipOptionsValidation){t>=G.DEBUG&&console.debug(zA);return}return!r?.apiKey&&t>=G.WARN&&console.warn(M_),!r?.serviceName&&t>=G.WARN&&console.warn(P_),r?.apiKey&&!Qt(r?.apiKey)&&r?.dataset&&t>=G.WARN&&console.warn(jA),r?.apiKey&&Qt(r?.apiKey)&&!r?.dataset&&t>=G.WARN&&console.warn(QA),r?.sampler&&t>=G.DEBUG&&console.debug(ZA),r?.disableDefaultTraceExporter===!0&&!r?.traceExporter&&!(!((e=r?.traceExporters)===null||e===void 0)&&e.length)&&console.warn(rs),r};function ts(r){if(!r?.debug)return;R.setLogger(new Ta,G.DEBUG),R.debug(Er("\u{1F41D} Honeycomb Web SDK Debug Mode Enabled \u{1F41D}"));let e=$t(r),t=Object.assign(Object.assign(Object.assign({},jt),r),{tracesEndpoint:e});as(t),Es(t),ns(t),os(t)}function as(r){let e=cE(r)||"";if(!e){R.debug(M_);return}R.debug(Er(`API Key configured for traces: '${e}'`))}function Es(r){let e=r.serviceName||jt.serviceName;if(e===jt.serviceName){R.debug(P_);return}R.debug(`@honeycombio/opentelemetry-web: Service Name configured for traces: '${e}'`)}function ns(r){let e=$t(r);if(!e){R.debug(Er("No endpoint configured for traces"));return}R.debug(Er(`Endpoint configured for traces: '${e}'`))}function os(r){let e=O_(r);if(!e){R.debug("No sampler configured for traces");return}R.debug(Er(`Sample Rate configured for traces: '${e}'`))}var oE=class{constructor(){}onStart(e,t){var a,E;((E=(a=q.getBaggage(t))===null||a===void 0?void 0:a.getAllEntries())!==null&&E!==void 0?E:[]).forEach(n=>{e.setAttribute(n[0],n[1].value),R.debug(`@honeycombio/opentelemetry-web: \u{1F6A8} Baggage in all outgoing headers: ${n[0]}=${n[1].value} `)})}onEnd(){}forceFlush(){return Promise.resolve()}shutdown(){return Promise.resolve()}},_E=class{constructor(){}onStart(e){let{href:t,pathname:a,search:E,hash:n,hostname:o}=window.location;e.setAttributes({"browser.width":window.innerWidth,"browser.height":window.innerHeight,"page.hash":n,"page.url":t,"page.route":a,"page.hostname":o,"page.search":E,"url.path":a})}onEnd(){}forceFlush(){return Promise.resolve()}shutdown(){return Promise.resolve()}},o_="x-honeycomb-team",_s="x-honeycomb-dataset";function Ss(r){let e=cE(r);return new t_({url:$t(r),headers:Ts(r,e)})}function Ts(r,e){let t=Object.assign({},r?.headers);return e&&!t[o_]&&(t[o_]=e),Qt(e)&&r?.dataset&&(t[_s]=r?.dataset),t}function is(r){return new SE(r)}var SE=class{constructor(e){this._exporters=e}export(e,t){this._exporters.forEach(a=>a.export(e,t)),t({code:ar.SUCCESS})}async shutdown(){let e=[];this._exporters.forEach(t=>e.push(t.shutdown())),await Promise.all(e)}};function As(r){let e=cE(r),{authRoot:t,uiRoot:a}=ss(r?.tracesEndpoint||$t(r));return new TE(r?.serviceName,e,r?.logLevel,t,a)}var ss=(r="")=>{let e=new URL(r),a=/(api)([.|-])?(.*?)(\.?)(honeycomb\.io)(.*)/.exec(e.host);if(a===null)return{authRoot:void 0,uiRoot:void 0};let E=a[2]==="-",n,o;E?(n=`api-${a[3]}`,o=`ui-${a[3]}`):(n=a[3]?`api.${a[3]}`:"api",o=a[3]?`ui.${a[3]}`:"ui");let _=`${e.protocol}//${n}.honeycomb.io/1/auth`,i=`${e.protocol}//${o}.honeycomb.io`;return{authRoot:_,uiRoot:i}},TE=class{constructor(e,t,a,E,n){if(this._traceUrl="",this._logLevel=G.DEBUG,a&&(this._logLevel=a),!e||!t){this._logLevel>=G.DEBUG&&console.debug(qA);return}if(!E||!n){this._logLevel>=G.DEBUG&&console.debug(JA);return}fetch(E,{headers:{"x-honeycomb-team":t}}).then(_=>{if(_.ok)return _.json();throw new Error}).then(_=>{var i,S,T;let A=_;if(!((i=A.team)===null||i===void 0)&&i.slug)this._traceUrl=ps(t,e,(S=A.team)===null||S===void 0?void 0:S.slug,(T=A.environment)===null||T===void 0?void 0:T.slug,n);else throw new Error}).catch(()=>{this._logLevel>=G.INFO&&console.log($A)})}export(e,t){this._traceUrl&&e.forEach(a=>{!a.parentSpanId&&this._logLevel>=G.INFO&&console.log(Er(`Honeycomb link: ${this._traceUrl}=${a.spanContext().traceId}`))}),t({code:ar.SUCCESS})}shutdown(){return Promise.resolve()}};function ps(r,e,t,a,E){let n=`${E}/${t}`;return!Qt(r)&&a&&(n+=`/environments/${a}`),n+=`/datasets/${e}/trace?trace_id`,n}var vs=r=>{let e=new iE,t=[];return r?.localVisualizations&&t.push(As(r)),r?.traceExporter&&t.push(r?.traceExporter),r?.traceExporters&&t.push(...r.traceExporters),r?.disableDefaultTraceExporter!==!0&&t.unshift(Ss(r)),e.addProcessor(new ne(is([...t]))),e.addProcessor(new oE),e.addProcessor(new _E),r?.spanProcessor&&e.addProcessor(r?.spanProcessor),r?.spanProcessors&&r.spanProcessors.forEach(a=>{e.addProcessor(a)}),e},iE=class{constructor(){this.spanProcessors=[]}addProcessor(e){this.spanProcessors.push(e)}getSpanProcessors(){return this.spanProcessors}onStart(e,t){this.spanProcessors.forEach(a=>{a.onStart(e,t)})}onEnd(e){this.spanProcessors.forEach(t=>{t.onEnd(e)})}forceFlush(){return Promise.all(this.spanProcessors.map(e=>e.forceFlush())).then(()=>{})}shutdown(){return Promise.all(this.spanProcessors.map(e=>e.forceFlush())).then(()=>{})}},us=r=>{let e=O_(r);return new AE(e)},AE=class{constructor(e){switch(this._sampleRate=e,e){case 0:this._sampler=new Yr;break;case 1:this._sampler=new lr;break;default:{let t=1/e;this._sampler=new Me(t);break}}}shouldSample(e,t,a,E,n,o){let _=this._sampler.shouldSample(e,t,a,E,n,o);return Object.assign(Object.assign({},_),{attributes:Object.assign(Object.assign({},_.attributes),{SampleRate:this._sampleRate})})}toString(){return`DeterministicSampler(${this._sampler.toString()})`}},sE,__,fe=function(){var r=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(r&&r.responseStart>0&&r.responseStart<performance.now())return r},et=function(r){if(document.readyState==="loading")return"loading";var e=fe();if(e){if(r<e.domInteractive)return"loading";if(e.domContentLoadedEventStart===0||r<e.domContentLoadedEventStart)return"dom-interactive";if(e.domComplete===0||r<e.domComplete)return"dom-content-loaded"}return"complete"},Ns=function(r){var e=r.nodeName;return r.nodeType===1?e.toLowerCase():e.toUpperCase().replace(/^#/,"")},ra=function(r,e){var t="";try{for(;r&&r.nodeType!==9;){var a=r,E=a.id?"#"+a.id:Ns(a)+(a.classList&&a.classList.value&&a.classList.value.trim()&&a.classList.value.trim().length?"."+a.classList.value.trim().replace(/\s+/g,"."):"");if(t.length+E.length>(e||100)-1)return t||E;if(t=t?E+">"+t:E,a.id)break;r=a.parentNode}}catch{}return t},l_=-1,C_=function(){return l_},_e=function(r){addEventListener("pageshow",function(e){e.persisted&&(l_=e.timeStamp,r(e))},!0)},ea=function(){var r=fe();return r&&r.activationStart||0},cr=function(r,e){var t=fe(),a="navigate";return C_()>=0?a="back-forward-cache":t&&(document.prerendering||ea()>0?a="prerender":document.wasDiscarded?a="restore":t.type&&(a=t.type.replace(/_/g,"-"))),{name:r,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:a}},Se=function(r,e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(r)){var a=new PerformanceObserver(function(E){Promise.resolve().then(function(){e(E.getEntries())})});return a.observe(Object.assign({type:r,buffered:!0},t||{})),a}}catch{}},Rr=function(r,e,t,a){var E,n;return function(o){e.value>=0&&(o||a)&&((n=e.value-(E||0))||E===void 0)&&(E=e.value,e.delta=n,e.rating=function(_,i){return _>i[1]?"poor":_>i[0]?"needs-improvement":"good"}(e.value,t),r(e))}},RE=function(r){requestAnimationFrame(function(){return requestAnimationFrame(function(){return r()})})},tt=function(r){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&r()})},ta=function(r){var e=!1;return function(){e||(r(),e=!0)}},Le=-1,S_=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},zt=function(r){document.visibilityState==="hidden"&&Le>-1&&(Le=r.type==="visibilitychange"?r.timeStamp:0,cs())},T_=function(){addEventListener("visibilitychange",zt,!0),addEventListener("prerenderingchange",zt,!0)},cs=function(){removeEventListener("visibilitychange",zt,!0),removeEventListener("prerenderingchange",zt,!0)},OE=function(){return Le<0&&(Le=S_(),T_(),_e(function(){setTimeout(function(){Le=S_(),T_()},0)})),{get firstHiddenTime(){return Le}}},at=function(r){document.prerendering?addEventListener("prerenderingchange",function(){return r()},!0):r()},i_=[1800,3e3],L_=function(r,e){e=e||{},at(function(){var t,a=OE(),E=cr("FCP"),n=Se("paint",function(o){o.forEach(function(_){_.name==="first-contentful-paint"&&(n.disconnect(),_.startTime<a.firstHiddenTime&&(E.value=Math.max(_.startTime-ea(),0),E.entries.push(_),t(!0)))})});n&&(t=Rr(r,E,i_,e.reportAllChanges),_e(function(o){E=cr("FCP"),t=Rr(r,E,i_,e.reportAllChanges),RE(function(){E.value=performance.now()-o.timeStamp,t(!0)})}))})},A_=[.1,.25],Rs=function(r,e){(function(t,a){a=a||{},L_(ta(function(){var E,n=cr("CLS",0),o=0,_=[],i=function(T){T.forEach(function(A){if(!A.hadRecentInput){var s=_[0],p=_[_.length-1];o&&A.startTime-p.startTime<1e3&&A.startTime-s.startTime<5e3?(o+=A.value,_.push(A)):(o=A.value,_=[A])}}),o>n.value&&(n.value=o,n.entries=_,E())},S=Se("layout-shift",i);S&&(E=Rr(t,n,A_,a.reportAllChanges),tt(function(){i(S.takeRecords()),E(!0)}),_e(function(){o=0,n=cr("CLS",0),E=Rr(t,n,A_,a.reportAllChanges),RE(function(){return E()})}),setTimeout(E,0))}))})(function(t){var a=function(E){var n,o={};if(E.entries.length){var _=E.entries.reduce(function(S,T){return S&&S.value>T.value?S:T});if(_&&_.sources&&_.sources.length){var i=(n=_.sources).find(function(S){return S.node&&S.node.nodeType===1})||n[0];i&&(o={largestShiftTarget:ra(i.node),largestShiftTime:_.startTime,largestShiftValue:_.value,largestShiftSource:i,largestShiftEntry:_,loadState:et(_.startTime)})}}return Object.assign(E,{attribution:o})}(t);r(a)},e)},Os=function(r,e){L_(function(t){var a=function(E){var n={timeToFirstByte:0,firstByteToFCP:E.value,loadState:et(C_())};if(E.entries.length){var o=fe(),_=E.entries[E.entries.length-1];if(o){var i=o.activationStart||0,S=Math.max(0,o.responseStart-i);n={timeToFirstByte:S,firstByteToFCP:E.value-S,loadState:et(E.entries[0].startTime),navigationEntry:o,fcpEntry:_}}}return Object.assign(E,{attribution:n})}(t);r(a)},e)},d_=0,eE=1/0,Xt=0,Ms=function(r){r.forEach(function(e){e.interactionId&&(eE=Math.min(eE,e.interactionId),Xt=Math.max(Xt,e.interactionId),d_=Xt?(Xt-eE)/7+1:0)})},D_=function(){return sE?d_:performance.interactionCount||0},Ps=function(){"interactionCount"in performance||sE||(sE=Se("event",Ms,{type:"event",buffered:!0,durationThreshold:0}))},Lr=[],$e=new Map,f_=0,ls=function(){var r=Math.min(Lr.length-1,Math.floor((D_()-f_)/50));return Lr[r]},I_=[],Cs=function(r){if(I_.forEach(function(E){return E(r)}),r.interactionId||r.entryType==="first-input"){var e=Lr[Lr.length-1],t=$e.get(r.interactionId);if(t||Lr.length<10||r.duration>e.latency){if(t)r.duration>t.latency?(t.entries=[r],t.latency=r.duration):r.duration===t.latency&&r.startTime===t.entries[0].startTime&&t.entries.push(r);else{var a={id:r.interactionId,latency:r.duration,entries:[r]};$e.set(a.id,a),Lr.push(a)}Lr.sort(function(E,n){return n.latency-E.latency}),Lr.length>10&&Lr.splice(10).forEach(function(E){return $e.delete(E.id)})}}},ME=function(r){var e=self.requestIdleCallback||self.setTimeout,t=-1;return r=ta(r),document.visibilityState==="hidden"?r():(t=e(r),tt(r)),t},s_=[200,500],Ls=function(r,e){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(e=e||{},at(function(){var t;Ps();var a,E=cr("INP"),n=function(_){ME(function(){_.forEach(Cs);var i=ls();i&&i.latency!==E.value&&(E.value=i.latency,E.entries=i.entries,a())})},o=Se("event",n,{durationThreshold:(t=e.durationThreshold)!==null&&t!==void 0?t:40});a=Rr(r,E,s_,e.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),tt(function(){n(o.takeRecords()),a(!0)}),_e(function(){f_=D_(),Lr.length=0,$e.clear(),E=cr("INP"),a=Rr(r,E,s_,e.reportAllChanges)}))}))},de=[],Qr=[],pE=0,PE=new WeakMap,De=new Map,vE=-1,ds=function(r){de=de.concat(r),U_()},U_=function(){vE<0&&(vE=ME(Ds))},Ds=function(){De.size>10&&De.forEach(function(o,_){$e.has(_)||De.delete(_)});var r=Lr.map(function(o){return PE.get(o.entries[0])}),e=Qr.length-50;Qr=Qr.filter(function(o,_){return _>=e||r.includes(o)});for(var t=new Set,a=0;a<Qr.length;a++){var E=Qr[a];h_(E.startTime,E.processingEnd).forEach(function(o){t.add(o)})}var n=de.length-1-50;de=de.filter(function(o,_){return o.startTime>pE&&_>n||t.has(o)}),vE=-1};I_.push(function(r){r.interactionId&&r.target&&!De.has(r.interactionId)&&De.set(r.interactionId,r.target)},function(r){var e,t=r.startTime+r.duration;pE=Math.max(pE,r.processingEnd);for(var a=Qr.length-1;a>=0;a--){var E=Qr[a];if(Math.abs(t-E.renderTime)<=8){(e=E).startTime=Math.min(r.startTime,e.startTime),e.processingStart=Math.min(r.processingStart,e.processingStart),e.processingEnd=Math.max(r.processingEnd,e.processingEnd),e.entries.push(r);break}}e||(e={startTime:r.startTime,processingStart:r.processingStart,processingEnd:r.processingEnd,renderTime:t,entries:[r]},Qr.push(e)),(r.interactionId||r.entryType==="first-input")&&PE.set(r,e),U_()});var zr,rt,m_,Zt,h_=function(r,e){for(var t,a=[],E=0;t=de[E];E++)if(!(t.startTime+t.duration<r)){if(t.startTime>e)break;a.push(t)}return a},fs=function(r,e){__||(__=Se("long-animation-frame",ds)),Ls(function(t){var a=function(E){var n=E.entries[0],o=PE.get(n),_=n.processingStart,i=o.processingEnd,S=o.entries.sort(function(f,N){return f.processingStart-N.processingStart}),T=h_(n.startTime,i),A=E.entries.find(function(f){return f.target}),s=A&&A.target||De.get(n.interactionId),p=[n.startTime+n.duration,i].concat(T.map(function(f){return f.startTime+f.duration})),v=Math.max.apply(Math,p),l={interactionTarget:ra(s),interactionTargetElement:s,interactionType:n.name.startsWith("key")?"keyboard":"pointer",interactionTime:n.startTime,nextPaintTime:v,processedEventEntries:S,longAnimationFrameEntries:T,inputDelay:_-n.startTime,processingDuration:i-_,presentationDelay:Math.max(v-i,0),loadState:et(n.startTime)};return Object.assign(E,{attribution:l})}(t);r(a)},e)},p_=[2500,4e3],tE={},Is=function(r,e){(function(t,a){a=a||{},at(function(){var E,n=OE(),o=cr("LCP"),_=function(T){a.reportAllChanges||(T=T.slice(-1)),T.forEach(function(A){A.startTime<n.firstHiddenTime&&(o.value=Math.max(A.startTime-ea(),0),o.entries=[A],E())})},i=Se("largest-contentful-paint",_);if(i){E=Rr(t,o,p_,a.reportAllChanges);var S=ta(function(){tE[o.id]||(_(i.takeRecords()),i.disconnect(),tE[o.id]=!0,E(!0))});["keydown","click"].forEach(function(T){addEventListener(T,function(){return ME(S)},{once:!0,capture:!0})}),tt(S),_e(function(T){o=cr("LCP"),E=Rr(t,o,p_,a.reportAllChanges),RE(function(){o.value=performance.now()-T.timeStamp,tE[o.id]=!0,E(!0)})})}})})(function(t){var a=function(E){var n={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:E.value};if(E.entries.length){var o=fe();if(o){var _=o.activationStart||0,i=E.entries[E.entries.length-1],S=i.url&&performance.getEntriesByType("resource").filter(function(v){return v.name===i.url})[0],T=Math.max(0,o.responseStart-_),A=Math.max(T,S?(S.requestStart||S.startTime)-_:0),s=Math.max(A,S?S.responseEnd-_:0),p=Math.max(s,i.startTime-_);n={element:ra(i.element),timeToFirstByte:T,resourceLoadDelay:A-T,resourceLoadDuration:s-A,elementRenderDelay:p-s,navigationEntry:o,lcpEntry:i},i.url&&(n.url=i.url),S&&(n.lcpResourceEntry=S)}}return Object.assign(E,{attribution:n})}(t);r(a)},e)},v_=[800,1800],Us=function r(e){document.prerendering?at(function(){return r(e)}):document.readyState!=="complete"?addEventListener("load",function(){return r(e)},!0):setTimeout(e,0)},ms=function(r,e){e=e||{};var t=cr("TTFB"),a=Rr(r,t,v_,e.reportAllChanges);Us(function(){var E=fe();E&&(t.value=Math.max(E.responseStart-ea(),0),t.entries=[E],a(!0),_e(function(){t=cr("TTFB",0),(a=Rr(r,t,v_,e.reportAllChanges))(!0)}))})},hs=function(r,e){ms(function(t){var a=function(E){var n={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(E.entries.length){var o=E.entries[0],_=o.activationStart||0,i=Math.max((o.workerStart||o.fetchStart)-_,0),S=Math.max(o.domainLookupStart-_,0),T=Math.max(o.connectStart-_,0),A=Math.max(o.connectEnd-_,0);n={waitingDuration:i,cacheDuration:S-i,dnsDuration:T-S,connectionDuration:A-T,requestDuration:E.value-A,navigationEntry:o}}return Object.assign(E,{attribution:n})}(t);r(a)},e)},Je={passive:!0,capture:!0},xs=new Date,u_=function(r,e){zr||(zr=e,rt=r,m_=new Date,V_(removeEventListener),x_())},x_=function(){if(rt>=0&&rt<m_-xs){var r={entryType:"first-input",name:zr.type,target:zr.target,cancelable:zr.cancelable,startTime:zr.timeStamp,processingStart:zr.timeStamp+rt};Zt.forEach(function(e){e(r)}),Zt=[]}},Vs=function(r){if(r.cancelable){var e=(r.timeStamp>1e12?new Date:performance.now())-r.timeStamp;r.type=="pointerdown"?function(t,a){var E=function(){u_(t,a),o()},n=function(){o()},o=function(){removeEventListener("pointerup",E,Je),removeEventListener("pointercancel",n,Je)};addEventListener("pointerup",E,Je),addEventListener("pointercancel",n,Je)}(e,r):u_(e,r)}},V_=function(r){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return r(e,Vs,Je)})},N_=[100,300],gs=function(r,e){e=e||{},at(function(){var t,a=OE(),E=cr("FID"),n=function(i){i.startTime<a.firstHiddenTime&&(E.value=i.processingStart-i.startTime,E.entries.push(i),t(!0))},o=function(i){i.forEach(n)},_=Se("first-input",o);t=Rr(r,E,N_,e.reportAllChanges),_&&(tt(ta(function(){o(_.takeRecords()),_.disconnect()})),_e(function(){var i;E=cr("FID"),t=Rr(r,E,N_,e.reportAllChanges),Zt=[],rt=-1,zr=null,V_(addEventListener),i=n,Zt.push(i),x_()}))})},Bs=function(r,e){gs(function(t){var a=function(E){var n=E.entries[0],o={eventTarget:ra(n.target),eventType:n.name,eventTime:n.startTime,eventEntry:n,loadState:et(n.startTime)};return Object.assign(E,{attribution:o})}(t);r(a)},e)},qt=class{constructor(e,t,a={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=Zr.wrap,this._unwrap=Zr.unwrap,this._massWrap=Zr.massWrap,this._massUnwrap=Zr.massUnwrap,this._config=Object.assign({enabled:!0},a),this._diag=R.createComponentLogger({namespace:e}),this._tracer=b.getTracer(e,t),this._meter=re.getMeter(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}},uE=class extends qt{constructor({enabled:e=!0,vitalsToTrack:t=["CLS","LCP","INP","TTFB","FCP"],lcp:a,cls:E,inp:n,fid:o,fcp:_,ttfb:i}={}){let S={enabled:e,vitalsToTrack:t,lcp:a,cls:E,inp:n,fid:o,fcp:_,ttfb:i};super("@honeycombio/instrumentation-web-vitals",je,S),this.onReportCLS=(T,A={})=>{let{applyCustomAttributes:s}=A;if(!this.isEnabled())return;let{name:p,attribution:v}=T,{largestShiftTarget:l,largestShiftTime:f,largestShiftValue:N,loadState:c,largestShiftEntry:D}=v,y=this.getAttrPrefix(p),X=this.tracer.startSpan(p);X.setAttributes(Object.assign(Object.assign({},this.getSharedAttributes(T)),{[`${y}.largest_shift_target`]:l,[`${y}.element`]:l,[`${y}.largest_shift_time`]:f,[`${y}.largest_shift_value`]:N,[`${y}.load_state`]:c,[`${y}.had_recent_input`]:D?.hadRecentInput})),s&&s(T,X),X.end()},this.onReportLCP=(T,A={})=>{let{applyCustomAttributes:s,dataAttributes:p}=A;if(!this.isEnabled())return;let{name:v,attribution:l}=T,{element:f,url:N,timeToFirstByte:c,resourceLoadDelay:D,resourceLoadDuration:y,elementRenderDelay:X,lcpEntry:k}=l,j=this.getAttrPrefix(v),Z=this.tracer.startSpan(v);Z.setAttributes(Object.assign(Object.assign({},this.getSharedAttributes(T)),{[`${j}.element`]:f,[`${j}.url`]:N,[`${j}.time_to_first_byte`]:c,[`${j}.resource_load_delay`]:D,[`${j}.resource_load_duration`]:y,[`${j}.element_render_delay`]:X,[`${j}.resource_load_time`]:y}));let $=k?.element;if($?.dataset)for(let H in $.dataset){let er=$.dataset[H];er!==void 0&&(p===void 0||p.includes(H))&&Z.setAttribute(`${j}.element.data.${H}`,er)}s&&s(T,Z),Z.end()},this.onReportINP=(T,A={includeTimingsAsSpans:!1})=>{let{applyCustomAttributes:s,includeTimingsAsSpans:p}=A;if(!this.isEnabled())return;let{name:v,attribution:l}=T,{inputDelay:f,interactionTarget:N,interactionTime:c,interactionType:D,loadState:y,nextPaintTime:X,presentationDelay:k,processingDuration:j,longAnimationFrameEntries:Z}=l,$=Z,H=this.getAttrPrefix(v),er=f+j+k;this.tracer.startActiveSpan(v,{startTime:c},u=>{let M=Object.assign(Object.assign({},this.getSharedAttributes(T)),{[`${H}.input_delay`]:f,[`${H}.interaction_target`]:N,[`${H}.interaction_time`]:c,[`${H}.interaction_type`]:D,[`${H}.load_state`]:y,[`${H}.next_paint_time`]:X,[`${H}.presentation_delay`]:k,[`${H}.processing_duration`]:j,[`${H}.duration`]:er,[`${H}.element`]:N,[`${H}.event_type`]:D});u.setAttributes(M),s&&s(T,u),p&&$.forEach(C=>{this.processPerformanceLongAnimationFrameTimingSpans(H,C)}),u.end(c+er)})},this.onReportFCP=(T,A={})=>{let{applyCustomAttributes:s}=A;if(!this.isEnabled())return;let{name:p,attribution:v}=T,{timeToFirstByte:l,firstByteToFCP:f,loadState:N}=v,c=this.getAttrPrefix(p),D=this.tracer.startSpan(p);D.setAttributes(Object.assign(Object.assign({},this.getSharedAttributes(T)),{[`${c}.time_to_first_byte`]:l,[`${c}.time_since_first_byte`]:f,[`${c}.load_state`]:N})),s&&s(T,D),D.end()},this.onReportFID=(T,A={})=>{let{applyCustomAttributes:s}=A;if(!this.isEnabled())return;let{name:p,attribution:v}=T,{eventTarget:l,eventType:f,loadState:N}=v,c=this.getAttrPrefix(p),D=this.tracer.startSpan(p);D.setAttributes(Object.assign(Object.assign({},this.getSharedAttributes(T)),{[`${c}.element`]:l,[`${c}.event_type`]:f,[`${c}.load_state`]:N})),s&&s(T,D),D.end()},this.onReportTTFB=(T,A={})=>{let{applyCustomAttributes:s}=A;if(!this.isEnabled())return;let{name:p,attribution:v}=T,{cacheDuration:l,connectionDuration:f,dnsDuration:N,requestDuration:c,waitingDuration:D}=v,y=this.getAttrPrefix(p),X=Object.assign(Object.assign({},this.getSharedAttributes(T)),{[`${y}.waiting_duration`]:D,[`${y}.dns_duration`]:N,[`${y}.connection_duration`]:f,[`${y}.request_duration`]:c,[`${y}.cache_duration`]:l,[`${y}.waiting_time`]:D,[`${y}.dns_time`]:N,[`${y}.connection_time`]:f,[`${y}.request_time`]:c}),k=this.tracer.startSpan(p);k.setAttributes(X),s&&s(T,k),k.end()},this.vitalsToTrack=[...t],this.lcpOpts=a,this.clsOpts=E,this.inpOpts=n,this.fidOpts=o,this.fcpOpts=_,this.ttfbOpts=i,this._isEnabled=e,this._setupWebVitalsCallbacks()}init(){}_setupWebVitalsCallbacks(){this.vitalsToTrack.includes("CLS")&&Rs(e=>{this.onReportCLS(e,this.clsOpts)},this.clsOpts),this.vitalsToTrack.includes("LCP")&&Is(e=>{this.onReportLCP(e,this.lcpOpts)},this.lcpOpts),this.vitalsToTrack.includes("INP")&&fs(e=>{this.onReportINP(e,this.inpOpts)},this.inpOpts),this.vitalsToTrack.includes("FID")&&Bs(e=>{this.onReportFID(e,this.fidOpts)},this.fidOpts),this.vitalsToTrack.includes("TTFB")&&hs(e=>{this.onReportTTFB(e,this.ttfbOpts)},this.ttfbOpts),this.vitalsToTrack.includes("FCP")&&Os(e=>{this.onReportFCP(e,this.fcpOpts)},this.fcpOpts)}getAttrPrefix(e){return e.toLowerCase()}getSharedAttributes(e){let{name:t,id:a,delta:E,rating:n,value:o,navigationType:_}=e,i=this.getAttrPrefix(t);return{[`${i}.id`]:a,[`${i}.delta`]:E,[`${i}.value`]:o,[`${i}.rating`]:n,[`${i}.navigation_type`]:_}}getAttributesForPerformanceLongAnimationFrameTiming(e,t){return{[`${e}.duration`]:t.duration,[`${e}.entryType`]:t.entryType,[`${e}.name`]:t.name,[`${e}.renderStart`]:t.renderStart,[`${e}.startTime`]:t.startTime}}getAttributesForPerformanceScriptTiming(e,t){return{[`${e}.entry_type`]:t.entryType,[`${e}.start_time`]:t.startTime,[`${e}.execution_start`]:t.executionStart,[`${e}.duration`]:t.duration,[`${e}.forced_style_and_layout_duration`]:t.forcedStyleAndLayoutDuration,[`${e}.invoker`]:t.invoker,[`${e}.pause_duration`]:t.pauseDuration,[`${e}.source_url`]:t.sourceURL,[`${e}.source_function_name`]:t.sourceFunctionName,[`${e}.source_char_position`]:t.sourceCharPosition,[`${e}.window_attribution`]:t.windowAttribution}}processPerformanceLongAnimationFrameTimingSpans(e,t){if(!t)return;let a=`${e}.timing`,E=this.getAttributesForPerformanceLongAnimationFrameTiming(a,t);this.tracer.startActiveSpan(t.name,{startTime:t.startTime},n=>{n.setAttributes(E),this.processPerformanceScriptTimingSpans(a,t.scripts),n.end(t.startTime+t.duration)})}processPerformanceScriptTimingSpans(e,t){if(!t||!t?.length)return;let a=`${e}.script`;t.map(E=>{this.tracer.startActiveSpan(E.name,{startTime:E.startTime},n=>{let o=this.getAttributesForPerformanceScriptTiming(a,E);n.setAttributes(o),n.end(E.startTime+E.duration)})})}disable(){if(!this.isEnabled()){this._diag.debug("Instrumentation already disabled");return}this._isEnabled=!1,this._diag.debug("Instrumentation  disabled")}enable(){if(this.isEnabled()){this._diag.debug("Instrumentation already enabled");return}this._isEnabled=!0,this._diag.debug("Instrumentation  enabled"),this._diag.debug(`Sending spans for ${this.vitalsToTrack.join(",")}`)}isEnabled(){return this._isEnabled}},g_="@honeycombio/instrumentation-global-errors";function bs(r){if(!r)return{};let e=(0,R_.computeStackTrace)(r).stack,t=[],a=[],E=[],n=[];return Array.isArray(e)?(e.forEach(o=>{t.push(o.line),a.push(o.column),E.push(o.func),n.push(o.url)}),{"exception.structured_stacktrace.columns":a,"exception.structured_stacktrace.lines":t,"exception.structured_stacktrace.functions":E,"exception.structured_stacktrace.urls":n}):{}}function ys(r,e={},t=b.getTracer(g_),a){let E=r.message,n=r.name,o=Object.assign(Object.assign({[Co]:n,[Po]:E,[lo]:r.stack},bs(r)),e),_=t.startSpan("exception",{attributes:o},h.active());a&&a(_,r),_.setStatus({code:$r.ERROR,message:E}),_.end()}var NE=class extends qt{constructor({enabled:e=!0,applyCustomAttributesOnSpan:t}={}){let a={enabled:e,applyCustomAttributesOnSpan:t};super(g_,je,a),this.onError=E=>{let n="reason"in E?E.reason:E.error;console.log(this.applyCustomAttributesOnSpan),n&&ys(n,{},this.tracer,this.applyCustomAttributesOnSpan)},e&&this.enable(),this._isEnabled=e,this.applyCustomAttributesOnSpan=t}init(){}disable(){if(!this.isEnabled()){this._diag.debug("Instrumentation already disabled");return}this._isEnabled=!1,window.removeEventListener("error",this.onError),window.removeEventListener("unhandledrejection",this.onError),this._diag.debug("Instrumentation  disabled")}enable(){if(this.isEnabled()){this._diag.debug("Instrumentation already enabled");return}this._isEnabled=!0,window.addEventListener("error",this.onError),window.addEventListener("unhandledrejection",this.onError),this._diag.debug("Instrumentation  enabled")}isEnabled(){return this._isEnabled}},Jt=class extends EE{constructor(e){var t,a;let E=[...e?.instrumentations||[]];((t=e?.webVitalsInstrumentationConfig)===null||t===void 0?void 0:t.enabled)!==!1&&E.push(new uE(e?.webVitalsInstrumentationConfig)),((a=e?.globalErrorsInstrumentationConfig)===null||a===void 0?void 0:a.enabled)!==!1&&E.push(new NE(e?.globalErrorsInstrumentationConfig)),super(Object.assign(Object.assign({},e),{instrumentations:E,resource:HA([YA(),VA(e?.entryPageAttributes),e?.resource,e?.resourceAttributes,xA()]),sampler:us(e),spanProcessor:vs(e)})),es(e),e?.debug&&ts(e)}};var Ie;(function(r){r.DOCUMENT_LOAD="documentLoad",r.DOCUMENT_FETCH="documentFetch",r.RESOURCE_FETCH="resourceFetch"})(Ie||(Ie={}));var B_="0.44.1",b_="@opentelemetry/instrumentation-document-load";var Et;(function(r){r.FIRST_PAINT="firstPaint",r.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"})(Et||(Et={}));var G_=function(){var r,e,t={},a=(e=(r=rr).getEntriesByType)===null||e===void 0?void 0:e.call(r,"navigation")[0];if(a){var E=Object.values(I);E.forEach(function(_){if(Cr(a,_)){var i=a[_];typeof i=="number"&&(t[_]=i)}})}else{var n=rr,o=n.timing;if(o){var E=Object.values(I);E.forEach(function(i){if(Cr(o,i)){var S=o[i];typeof S=="number"&&(t[i]=S)}})}}return t},y_={"first-paint":Et.FIRST_PAINT,"first-contentful-paint":Et.FIRST_CONTENTFUL_PAINT},Y_=function(r){var e,t,a=(t=(e=rr).getEntriesByType)===null||t===void 0?void 0:t.call(e,"paint");a&&a.forEach(function(E){var n=E.name,o=E.startTime;Cr(y_,n)&&r.addEvent(y_[n],o)})};var Gs=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,E){a.__proto__=E}||function(a,E){for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(a[n]=E[n])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),H_=function(r){Gs(e,r);function e(t){t===void 0&&(t={});var a=r.call(this,b_,B_,t)||this;return a.component="document-load",a.version="1",a.moduleName=a.component,a}return e.prototype.init=function(){},e.prototype._onDocumentLoaded=function(){var t=this;window.setTimeout(function(){t._collectPerformance()})},e.prototype._addResourcesSpans=function(t){var a=this,E,n,o=(n=(E=rr).getEntriesByType)===null||n===void 0?void 0:n.call(E,"resource");o&&o.forEach(function(_){a._initResourceSpan(_,t)})},e.prototype._collectPerformance=function(){var t=this,a=Array.from(document.getElementsByTagName("meta")).find(function(o){return o.getAttribute("name")===Oe}),E=G_(),n=a&&a.content||"";h.with(q.extract(Mr,{traceparent:n}),function(){var o,_=t._startSpan(Ie.DOCUMENT_LOAD,I.FETCH_START,E);_&&(h.with(b.setSpan(h.active(),_),function(){var i=t._startSpan(Ie.DOCUMENT_FETCH,I.FETCH_START,E);i&&(i.setAttribute(wt,location.href),h.with(b.setSpan(h.active(),i),function(){var S;t.getConfig().ignoreNetworkEvents||hr(i,E),t._addCustomAttributesOnSpan(i,(S=t.getConfig().applyCustomAttributesOnSpan)===null||S===void 0?void 0:S.documentFetch),t._endSpan(i,I.RESPONSE_END,E)}))}),_.setAttribute(wt,location.href),_.setAttribute(Oo,navigator.userAgent),t._addResourcesSpans(_),t.getConfig().ignoreNetworkEvents||(J(_,I.FETCH_START,E),J(_,I.UNLOAD_EVENT_START,E),J(_,I.UNLOAD_EVENT_END,E),J(_,I.DOM_INTERACTIVE,E),J(_,I.DOM_CONTENT_LOADED_EVENT_START,E),J(_,I.DOM_CONTENT_LOADED_EVENT_END,E),J(_,I.DOM_COMPLETE,E),J(_,I.LOAD_EVENT_START,E),J(_,I.LOAD_EVENT_END,E)),t.getConfig().ignorePerformancePaintEvents||Y_(_),t._addCustomAttributesOnSpan(_,(o=t.getConfig().applyCustomAttributesOnSpan)===null||o===void 0?void 0:o.documentLoad),t._endSpan(_,I.LOAD_EVENT_END,E))})},e.prototype._endSpan=function(t,a,E){t&&(Cr(E,a)?t.end(E[a]):t.end())},e.prototype._initResourceSpan=function(t,a){var E,n=this._startSpan(Ie.RESOURCE_FETCH,I.FETCH_START,t,a);n&&(n.setAttribute(wt,t.name),this.getConfig().ignoreNetworkEvents||hr(n,t),this._addCustomAttributesOnResourceSpan(n,t,(E=this.getConfig().applyCustomAttributesOnSpan)===null||E===void 0?void 0:E.resourceFetch),this._endSpan(n,I.RESPONSE_END,t))},e.prototype._startSpan=function(t,a,E,n){if(Cr(E,a)&&typeof E[a]=="number"){var o=this.tracer.startSpan(t,{startTime:E[a]},n?b.setSpan(h.active(),n):void 0);return o}},e.prototype._waitForPageLoad=function(){window.document.readyState==="complete"?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))},e.prototype._addCustomAttributesOnSpan=function(t,a){var E=this;a&&Wr(function(){return a(t)},function(n){n&&E._diag.error("addCustomAttributesOnSpan",n)},!0)},e.prototype._addCustomAttributesOnResourceSpan=function(t,a,E){var n=this;E&&Wr(function(){return E(t,a)},function(o){o&&n._diag.error("addCustomAttributesOnResourceSpan",o)},!0)},e.prototype.enable=function(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()},e.prototype.disable=function(){window.removeEventListener("load",this._onDocumentLoaded)},e}(sr);var nt;(function(r){r.COMPONENT="component",r.HTTP_ERROR_NAME="http.error_name",r.HTTP_STATUS_TEXT="http.status_text"})(nt||(nt={}));var Ys="http.method",Hs="http.url";var ws="http.host",Fs="http.scheme",Ks="http.status_code";var Ws="http.user_agent";var ks="http.request_content_length_uncompressed";var w_=Ys,F_=Hs;var K_=ws,W_=Fs,k_=Ks;var X_=Ws;var j_=ks;var Xs=function(r,e,t,a){function E(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function _(T){try{S(a.next(T))}catch(A){o(A)}}function i(T){try{S(a.throw(T))}catch(A){o(A)}}function S(T){T.done?n(T.value):E(T.value).then(_,i)}S((a=a.apply(r,e||[])).next())})},js=function(r,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,E,n,o;return o={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function _(S){return function(T){return i([S,T])}}function i(S){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,E&&(n=S[0]&2?E.return:S[0]?E.throw||((n=E.return)&&n.call(E),0):E.next)&&!(n=n.call(E,S[1])).done)return n;switch(E=0,n&&(S=[S[0]&2,n.value]),S[0]){case 0:case 1:n=S;break;case 4:return t.label++,{value:S[1],done:!1};case 5:t.label++,E=S[1],S=[0];continue;case 7:S=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(S[0]===6||S[0]===2)){t=0;continue}if(S[0]===3&&(!n||S[1]>n[0]&&S[1]<n[3])){t.label=S[1];break}if(S[0]===6&&t.label<n[1]){t.label=n[1],n=S;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(S);break}n[2]&&t.ops.pop(),t.trys.pop();continue}S=e.call(r,t)}catch(T){S=[6,T],E=0}finally{a=n=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Qs=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],a=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zs=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},Q_=R.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-fetch/utils"});function z_(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r[0]instanceof URL||typeof r[0]=="string"){var t=r[1];if(!t?.body)return Promise.resolve();if(t.body instanceof ReadableStream){var a=Zs(t.body),E=a.body,n=a.length;return t.body=E,n}else return Promise.resolve(qs(t.body))}else{var o=r[0];return o?.body?o.clone().text().then(function(_){return lE(_)}):Promise.resolve()}}function Zs(r){if(!r.pipeThrough)return Q_.warn("Platform has ReadableStream but not pipeThrough!"),{body:r,length:Promise.resolve(void 0)};var e=0,t,a=new Promise(function(n){t=n}),E=new TransformStream({start:function(){},transform:function(n,o){return Xs(this,void 0,void 0,function(){var _;return js(this,function(i){switch(i.label){case 0:return[4,n];case 1:return _=i.sent(),e+=_.byteLength,o.enqueue(n),[2]}})})},flush:function(){t(e)}});return{body:r.pipeThrough(E),length:a}}function qs(r){if(typeof Document<"u"&&r instanceof Document)return new XMLSerializer().serializeToString(document).length;if(r instanceof Blob)return r.size;if(r.byteLength!==void 0)return r.byteLength;if(r instanceof FormData)return $s(r);if(r instanceof URLSearchParams)return lE(r.toString());if(typeof r=="string")return lE(r);Q_.warn("unknown body type")}var Js=new TextEncoder;function lE(r){return Js.encode(r).byteLength}function $s(r){var e,t,a=0;try{for(var E=Qs(r.entries()),n=E.next();!n.done;n=E.next()){var o=zs(n.value,2),_=o[0],i=o[1];a+=_.length,i instanceof Blob?a+=i.size:a+=i.length}}catch(S){e={error:S}}finally{try{n&&!n.done&&(t=E.return)&&t.call(E)}finally{if(e)throw e.error}}return a}var CE="0.57.2";var rp=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,E){a.__proto__=E}||function(a,E){for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(a[n]=E[n])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),ep=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},tp=function(r,e,t){if(t||arguments.length===2)for(var a=0,E=e.length,n;a<E;a++)(n||!(a in e))&&(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return r.concat(n||Array.prototype.slice.call(e))},LE,ap=300,Z_=typeof process=="object"&&((LE=process.release)===null||LE===void 0?void 0:LE.name)==="node",dE=function(r){rp(e,r);function e(t){t===void 0&&(t={});var a=r.call(this,"@opentelemetry/instrumentation-fetch",CE,t)||this;return a.component="fetch",a.version=CE,a.moduleName=a.component,a._usedResources=new WeakSet,a._tasksCount=0,a}return e.prototype.init=function(){},e.prototype._addChildSpan=function(t,a){var E=this.tracer.startSpan("CORS Preflight",{startTime:a[I.FETCH_START]},b.setSpan(h.active(),t));hr(E,a,this.getConfig().ignoreNetworkEvents),E.end(a[I.RESPONSE_END])},e.prototype._addFinalSpanAttributes=function(t,a){var E=Nr(a.url);t.setAttribute(k_,a.status),a.statusText!=null&&t.setAttribute(nt.HTTP_STATUS_TEXT,a.statusText),t.setAttribute(K_,E.host),t.setAttribute(W_,E.protocol.replace(":","")),typeof navigator<"u"&&t.setAttribute(X_,navigator.userAgent)},e.prototype._addHeaders=function(t,a){if(!Xe(a,this.getConfig().propagateTraceHeaderCorsUrls)){var E={};q.inject(h.active(),E),Object.keys(E).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(t instanceof Request)q.inject(h.active(),t.headers,{set:function(n,o,_){return n.set(o,typeof _=="string"?_:String(_))}});else if(t.headers instanceof Headers)q.inject(h.active(),t.headers,{set:function(n,o,_){return n.set(o,typeof _=="string"?_:String(_))}});else if(t.headers instanceof Map)q.inject(h.active(),t.headers,{set:function(n,o,_){return n.set(o,typeof _=="string"?_:String(_))}});else{var E={};q.inject(h.active(),E),t.headers=Object.assign({},E,t.headers||{})}},e.prototype._clearResources=function(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},e.prototype._createSpan=function(t,a){var E;if(a===void 0&&(a={}),We(t,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var n=(a.method||"GET").toUpperCase(),o="HTTP "+n;return this.tracer.startSpan(o,{kind:br.CLIENT,attributes:(E={},E[nt.COMPONENT]=this.moduleName,E[w_]=n,E[F_]=t,E)})},e.prototype._findResourceAndAddNetworkEvents=function(t,a,E){var n=a.entries;if(!n.length){if(!performance.getEntriesByType)return;n=performance.getEntriesByType("resource")}var o=ke(a.spanUrl,a.startTime,E,n,this._usedResources,"fetch");if(o.mainRequest){var _=o.mainRequest;this._markResourceAsUsed(_);var i=o.corsPreFlightRequest;i&&(this._addChildSpan(t,i),this._markResourceAsUsed(i)),hr(t,_,this.getConfig().ignoreNetworkEvents)}},e.prototype._markResourceAsUsed=function(t){this._usedResources.add(t)},e.prototype._endSpan=function(t,a,E){var n=this,o=pr(Date.now()),_=vr();this._addFinalSpanAttributes(t,E),setTimeout(function(){var i;(i=a.observer)===null||i===void 0||i.disconnect(),n._findResourceAndAddNetworkEvents(t,a,_),n._tasksCount--,n._clearResources(),t.end(o)},ap)},e.prototype._patchConstructor=function(){var t=this;return function(a){var E=t;return function(){for(var o=[],_=0;_<arguments.length;_++)o[_]=arguments[_];var i=this,S=Nr(o[0]instanceof Request?o[0].url:String(o[0])).href,T=o[0]instanceof Request?o[0]:o[1]||{},A=E._createSpan(S,T);if(!A)return a.apply(this,o);var s=E._prepareSpanData(S);E.getConfig().measureRequestSize&&z_.apply(void 0,tp([],ep(o),!1)).then(function(N){N&&A.setAttribute(j_,N)}).catch(function(N){E._diag.warn("getFetchBodyLength",N)});function p(N,c){E._applyAttributesAfterFetch(N,T,c),E._endSpan(N,s,{status:c.status||0,statusText:c.message,url:S})}function v(N,c){E._applyAttributesAfterFetch(N,T,c),c.status>=200&&c.status<400?E._endSpan(N,s,c):E._endSpan(N,s,{status:c.status,statusText:c.statusText,url:S})}function l(N,c,D){try{var y=D.clone(),X=D.clone(),k=y.body;if(k){var j=k.getReader(),Z=function(){j.read().then(function($){var H=$.done;H?v(N,X):Z()},function($){p(N,$)})};Z()}else v(N,D)}finally{c(D)}}function f(N,c,D){try{p(N,D)}finally{c(D)}}return new Promise(function(N,c){return h.with(b.setSpan(h.active(),A),function(){return E._addHeaders(T,S),E._tasksCount++,a.apply(i,T instanceof Request?[T]:[S,T]).then(l.bind(i,A,N),f.bind(i,A,c))})})}}},e.prototype._applyAttributesAfterFetch=function(t,a,E){var n=this,o=this.getConfig().applyCustomAttributesOnSpan;o&&Wr(function(){return o(t,a,E)},function(_){_&&n._diag.error("applyCustomAttributesOnSpan",_)},!0)},e.prototype._prepareSpanData=function(t){var a=vr(),E=[];if(typeof PerformanceObserver!="function")return{entries:E,startTime:a,spanUrl:t};var n=new PerformanceObserver(function(o){var _=o.getEntries();_.forEach(function(i){i.initiatorType==="fetch"&&i.name===t&&E.push(i)})});return n.observe({entryTypes:["resource"]}),{entries:E,observer:n,startTime:a,spanUrl:t}},e.prototype.enable=function(){if(Z_){this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()");return}Q(fetch)&&(this._unwrap(yr,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(yr,"fetch",this._patchConstructor())},e.prototype.disable=function(){Z_||(this._unwrap(yr,"fetch"),this._usedResources=new WeakSet)},e}(sr);var Te;(function(r){r.EVENT_TYPE="event_type",r.TARGET_ELEMENT="target_element",r.TARGET_XPATH="target_xpath",r.HTTP_URL="http.url"})(Te||(Te={}));var DE="0.44.1",q_="@opentelemetry/instrumentation-user-interaction";var Ep=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,E){a.__proto__=E}||function(a,E){for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(a[n]=E[n])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),np="OT_ZONE_CONTEXT",op="Navigation:",_p=["click"];function Sp(){return!1}var J_=function(r){Ep(e,r);function e(t){t===void 0&&(t={});var a,E=r.call(this,q_,DE,t)||this;return E.version=DE,E.moduleName="user-interaction",E._spansData=new WeakMap,E._wrappedListeners=new WeakMap,E._eventsSpanMap=new WeakMap,E._eventNames=new Set((a=t?.eventNames)!==null&&a!==void 0?a:_p),E._shouldPreventSpanCreation=typeof t?.shouldPreventSpanCreation=="function"?t.shouldPreventSpanCreation:Sp,E}return e.prototype.init=function(){},e.prototype._checkForTimeout=function(t,a){var E=this._spansData.get(a);E&&(t.source==="setTimeout"?E.hrTimeLastTimeout=vr():t.source!=="Promise.then"&&t.source!=="setTimeout"&&(E.hrTimeLastTimeout=void 0))},e.prototype._allowEventName=function(t){return this._eventNames.has(t)},e.prototype._createSpan=function(t,a,E){var n;if(t instanceof HTMLElement&&t.getAttribute&&!t.hasAttribute("disabled")&&this._allowEventName(a)){var o=le(t,!0);try{var _=this.tracer.startSpan(a,{attributes:(n={},n[Te.EVENT_TYPE]=a,n[Te.TARGET_ELEMENT]=t.tagName,n[Te.TARGET_XPATH]=o,n[Te.HTTP_URL]=window.location.href,n)},E?b.setSpan(h.active(),E):void 0);return this._shouldPreventSpanCreation(a,t,_)===!0?void 0:(this._spansData.set(_,{taskCount:0}),_)}catch(i){this._diag.error("failed to start create new user interaction span",i)}}},e.prototype._decrementTask=function(t){var a=this._spansData.get(t);a&&(a.taskCount--,a.taskCount===0&&this._tryToEndSpan(t,a.hrTimeLastTimeout))},e.prototype._getCurrentSpan=function(t){var a=t.get(np);return a&&b.getSpan(a)},e.prototype._incrementTask=function(t){var a=this._spansData.get(t);a&&a.taskCount++},e.prototype.addPatchedListener=function(t,a,E,n){var o=this._wrappedListeners.get(E);o||(o=new Map,this._wrappedListeners.set(E,o));var _=o.get(a);return _||(_=new Map,o.set(a,_)),_.has(t)?!1:(_.set(t,n),!0)},e.prototype.removePatchedListener=function(t,a,E){var n=this._wrappedListeners.get(E);if(n){var o=n.get(a);if(o){var _=o.get(t);return _&&(o.delete(t),o.size===0&&(n.delete(a),n.size===0&&this._wrappedListeners.delete(E))),_}}},e.prototype._invokeListener=function(t,a,E){return typeof t=="function"?t.apply(a,E):t.handleEvent(E[0])},e.prototype._patchAddEventListener=function(){var t=this;return function(a){return function(n,o,_){if(!o)return a.call(this,n,o,_);var i=_&&typeof _=="object"&&_.once,S=function(){for(var T=this,A=[],s=0;s<arguments.length;s++)A[s]=arguments[s];var p,v=A[0],l=v?.target;v&&(p=t._eventsSpanMap.get(v)),i&&t.removePatchedListener(this,n,o);var f=t._createSpan(l,n,p);return f?(v&&t._eventsSpanMap.set(v,f),h.with(b.setSpan(h.active(),f),function(){var N=t._invokeListener(o,T,A);return f.end(),N})):t._invokeListener(o,this,A)};if(t.addPatchedListener(this,n,o,S))return a.call(this,n,S,_)}}},e.prototype._patchRemoveEventListener=function(){var t=this;return function(a){return function(n,o,_){var i=t.removePatchedListener(this,n,o);return i?a.call(this,n,i,_):a.call(this,n,o,_)}}},e.prototype._getPatchableEventTargets=function(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]},e.prototype._patchHistoryApi=function(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())},e.prototype._patchHistoryMethod=function(){var t=this;return function(a){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var _=""+location.pathname+location.hash+location.search,i=a.apply(this,n),S=""+location.pathname+location.hash+location.search;return _!==S&&t._updateInteractionName(S),i}}},e.prototype._unpatchHistoryApi=function(){Q(history.replaceState)&&this._unwrap(history,"replaceState"),Q(history.pushState)&&this._unwrap(history,"pushState"),Q(history.back)&&this._unwrap(history,"back"),Q(history.forward)&&this._unwrap(history,"forward"),Q(history.go)&&this._unwrap(history,"go")},e.prototype._updateInteractionName=function(t){var a=b.getSpan(h.active());a&&typeof a.updateName=="function"&&a.updateName(op+" "+t)},e.prototype._patchZoneCancelTask=function(){var t=this;return function(a){return function(n){var o=Zone.current,_=t._getCurrentSpan(o);return _&&t._shouldCountTask(n,o)&&t._decrementTask(_),a.call(this,n)}}},e.prototype._patchZoneScheduleTask=function(){var t=this;return function(a){return function(n){var o=Zone.current,_=t._getCurrentSpan(o);return _&&t._shouldCountTask(n,o)&&(t._incrementTask(_),t._checkForTimeout(n,_)),a.call(this,n)}}},e.prototype._patchZoneRunTask=function(){var t=this;return function(a){return function(n,o,_){var i=Array.isArray(_)&&_[0]instanceof Event?_[0]:void 0,S=i?.target,T,A=this;if(S){if(T=t._createSpan(S,n.eventName),T)return t._incrementTask(T),A.run(function(){try{return h.with(b.setSpan(h.active(),T),function(){var s=Zone.current;return n._zone=s,a.call(s,n,o,_)})}finally{t._decrementTask(T)}})}else T=t._getCurrentSpan(A);try{return a.call(A,n,o,_)}finally{T&&t._shouldCountTask(n,A)&&t._decrementTask(T)}}}},e.prototype._shouldCountTask=function(t,a){if(t._zone&&(a=t._zone),!a||!t.data||t.data.isPeriodic)return!1;var E=this._getCurrentSpan(a);return!E||!this._spansData.get(E)?!1:t.type==="macroTask"||t.type==="microTask"},e.prototype._tryToEndSpan=function(t,a){if(t){var E=this._spansData.get(t);E&&(t.end(a),this._spansData.delete(t))}},e.prototype.enable=function(){var t=this,a=this._getZoneWithPrototype();if(this._diag.debug("applying patch to",this.moduleName,this.version,"zone:",!!a),a)Q(a.prototype.runTask)&&(this._unwrap(a.prototype,"runTask"),this._diag.debug("removing previous patch from method runTask")),Q(a.prototype.scheduleTask)&&(this._unwrap(a.prototype,"scheduleTask"),this._diag.debug("removing previous patch from method scheduleTask")),Q(a.prototype.cancelTask)&&(this._unwrap(a.prototype,"cancelTask"),this._diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(a.prototype,"runTask",this._patchZoneRunTask()),this._wrap(a.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(a.prototype,"cancelTask",this._patchZoneCancelTask());else{this._zonePatched=!1;var E=this._getPatchableEventTargets();E.forEach(function(n){Q(n.addEventListener)&&(t._unwrap(n,"addEventListener"),t._diag.debug("removing previous patch from method addEventListener")),Q(n.removeEventListener)&&(t._unwrap(n,"removeEventListener"),t._diag.debug("removing previous patch from method removeEventListener")),t._wrap(n,"addEventListener",t._patchAddEventListener()),t._wrap(n,"removeEventListener",t._patchRemoveEventListener())})}this._patchHistoryApi()},e.prototype.disable=function(){var t=this,a=this._getZoneWithPrototype();if(this._diag.debug("removing patch from",this.moduleName,this.version,"zone:",!!a),a&&this._zonePatched)Q(a.prototype.runTask)&&this._unwrap(a.prototype,"runTask"),Q(a.prototype.scheduleTask)&&this._unwrap(a.prototype,"scheduleTask"),Q(a.prototype.cancelTask)&&this._unwrap(a.prototype,"cancelTask");else{var E=this._getPatchableEventTargets();E.forEach(function(n){Q(n.addEventListener)&&t._unwrap(n,"addEventListener"),Q(n.removeEventListener)&&t._unwrap(n,"removeEventListener")})}this._unpatchHistoryApi()},e.prototype._getZoneWithPrototype=function(){var t=window;return t.Zone},e}(sr);var Tp="http.method",ip="http.url";var Ap="http.host",sp="http.scheme",pp="http.status_code";var vp="http.user_agent";var up="http.request_content_length_uncompressed";var $_=Tp,rS=ip;var eS=Ap,tS=sp,aS=pp;var ES=vp;var nS=up;var xr;(function(r){r.METHOD_OPEN="open",r.METHOD_SEND="send",r.EVENT_ABORT="abort",r.EVENT_ERROR="error",r.EVENT_LOAD="loaded",r.EVENT_TIMEOUT="timeout"})(xr||(xr={}));var Np=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],a=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cp=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),E,n=[],o;try{for(;(e===void 0||e-- >0)&&!(E=a.next()).done;)n.push(E.value)}catch(_){o={error:_}}finally{try{E&&!E.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return n},Rp=R.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-xml-http-request/utils"});function _S(r){if(typeof Document<"u"&&r instanceof Document)return new XMLSerializer().serializeToString(document).length;if(r instanceof Blob)return r.size;if(r.byteLength!==void 0)return r.byteLength;if(r instanceof FormData)return Mp(r);if(r instanceof URLSearchParams)return oS(r.toString());if(typeof r=="string")return oS(r);Rp.warn("unknown body type")}var Op=new TextEncoder;function oS(r){return Op.encode(r).byteLength}function Mp(r){var e,t,a=0;try{for(var E=Np(r.entries()),n=E.next();!n.done;n=E.next()){var o=cp(n.value,2),_=o[0],i=o[1];a+=_.length,i instanceof Blob?a+=i.size:a+=i.length}}catch(S){e={error:S}}finally{try{n&&!n.done&&(t=E.return)&&t.call(E)}finally{if(e)throw e.error}}return a}var fE="0.57.2";var aa;(function(r){r.HTTP_STATUS_TEXT="http.status_text"})(aa||(aa={}));var Pp=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,E){a.__proto__=E}||function(a,E){for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(a[n]=E[n])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),lp=300,IE=function(r){Pp(e,r);function e(t){t===void 0&&(t={});var a=r.call(this,"@opentelemetry/instrumentation-xml-http-request",fE,t)||this;return a.component="xml-http-request",a.version=fE,a.moduleName=a.component,a._tasksCount=0,a._xhrMem=new WeakMap,a._usedResources=new WeakSet,a}return e.prototype.init=function(){},e.prototype._addHeaders=function(t,a){var E=Nr(a).href;if(!Xe(E,this.getConfig().propagateTraceHeaderCorsUrls)){var n={};q.inject(h.active(),n),Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}var o={};q.inject(h.active(),o),Object.keys(o).forEach(function(_){t.setRequestHeader(_,String(o[_]))})},e.prototype._addChildSpan=function(t,a){var E=this;h.with(b.setSpan(h.active(),t),function(){var n=E.tracer.startSpan("CORS Preflight",{startTime:a[I.FETCH_START]});hr(n,a,E.getConfig().ignoreNetworkEvents),n.end(a[I.RESPONSE_END])})},e.prototype._addFinalSpanAttributes=function(t,a,E){if(typeof E=="string"){var n=Nr(E);a.status!==void 0&&t.setAttribute(aS,a.status),a.statusText!==void 0&&t.setAttribute(aa.HTTP_STATUS_TEXT,a.statusText),t.setAttribute(eS,n.host),t.setAttribute(tS,n.protocol.replace(":","")),t.setAttribute(ES,navigator.userAgent)}},e.prototype._applyAttributesAfterXHR=function(t,a){var E=this,n=this.getConfig().applyCustomAttributesOnSpan;typeof n=="function"&&Wr(function(){return n(t,a)},function(o){o&&E._diag.error("applyCustomAttributesOnSpan",o)},!0)},e.prototype._addResourceObserver=function(t,a){var E=this._xhrMem.get(t);!E||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(E.createdResources={observer:new PerformanceObserver(function(n){var o=n.getEntries(),_=Nr(a);o.forEach(function(i){i.initiatorType==="xmlhttprequest"&&i.name===_.href&&E.createdResources&&E.createdResources.entries.push(i)})}),entries:[]},E.createdResources.observer.observe({entryTypes:["resource"]}))},e.prototype._clearResources=function(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(rr.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},e.prototype._findResourceAndAddNetworkEvents=function(t,a,E,n,o){if(!(!E||!n||!o||!t.createdResources)){var _=t.createdResources.entries;(!_||!_.length)&&(_=rr.getEntriesByType("resource"));var i=ke(Nr(E).href,n,o,_,this._usedResources);if(i.mainRequest){var S=i.mainRequest;this._markResourceAsUsed(S);var T=i.corsPreFlightRequest;T&&(this._addChildSpan(a,T),this._markResourceAsUsed(T)),hr(a,S,this.getConfig().ignoreNetworkEvents)}}},e.prototype._cleanPreviousSpanInformation=function(t){var a=this._xhrMem.get(t);if(a){var E=a.callbackToRemoveEvents;E&&E(),this._xhrMem.delete(t)}},e.prototype._createSpan=function(t,a,E){var n;if(We(a,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var o=E.toUpperCase(),_=this.tracer.startSpan(o,{kind:br.CLIENT,attributes:(n={},n[$_]=E,n[rS]=Nr(a).toString(),n)});return _.addEvent(xr.METHOD_OPEN),this._cleanPreviousSpanInformation(t),this._xhrMem.set(t,{span:_,spanUrl:a}),_},e.prototype._markResourceAsUsed=function(t){this._usedResources.add(t)},e.prototype._patchOpen=function(){var t=this;return function(a){var E=t;return function(){for(var o=[],_=0;_<arguments.length;_++)o[_]=arguments[_];var i=o[0],S=o[1];return E._createSpan(this,S,i),a.apply(this,o)}}},e.prototype._patchSend=function(){var t=this;function a(T,A,s,p){var v=A.callbackToRemoveEvents;typeof v=="function"&&v();var l=A.span,f=A.spanUrl,N=A.sendStartTime;l&&(t._findResourceAndAddNetworkEvents(A,l,f,N,s),l.addEvent(T,p),t._addFinalSpanAttributes(l,A,f),l.end(p),t._tasksCount--),t._clearResources()}function E(T,A){var s=t._xhrMem.get(A);if(s){s.status=A.status,s.statusText=A.statusText,t._xhrMem.delete(A),s.span&&t._applyAttributesAfterXHR(s.span,A);var p=vr(),v=Date.now();setTimeout(function(){a(T,s,p,v)},lp)}}function n(){E(xr.EVENT_ERROR,this)}function o(){E(xr.EVENT_ABORT,this)}function _(){E(xr.EVENT_TIMEOUT,this)}function i(){this.status<299?E(xr.EVENT_LOAD,this):E(xr.EVENT_ERROR,this)}function S(T){T.removeEventListener("abort",o),T.removeEventListener("error",n),T.removeEventListener("load",i),T.removeEventListener("timeout",_);var A=t._xhrMem.get(T);A&&(A.callbackToRemoveEvents=void 0)}return function(T){return function(){for(var s=this,p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];var l=t._xhrMem.get(this);if(!l)return T.apply(this,p);var f=l.span,N=l.spanUrl;if(f&&N){if(t.getConfig().measureRequestSize&&p?.[0]){var c=p[0],D=_S(c);D!==void 0&&f.setAttribute(nS,D)}h.with(b.setSpan(h.active(),f),function(){t._tasksCount++,l.sendStartTime=vr(),f.addEvent(xr.METHOD_SEND),s.addEventListener("abort",o),s.addEventListener("error",n),s.addEventListener("load",i),s.addEventListener("timeout",_),l.callbackToRemoveEvents=function(){S(s),l.createdResources&&l.createdResources.observer.disconnect()},t._addHeaders(s,N),t._addResourceObserver(s,N)})}return T.apply(this,p)}}},e.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),Q(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),Q(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},e.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},e}(sr);var UE={"@opentelemetry/instrumentation-document-load":H_,"@opentelemetry/instrumentation-fetch":dE,"@opentelemetry/instrumentation-user-interaction":J_,"@opentelemetry/instrumentation-xml-http-request":IE};function mE(r){var e;r===void 0&&(r={});for(var t=0,a=Object.keys(r);t<a.length;t++){var E=a[t];if(!Object.prototype.hasOwnProperty.call(UE,E)){R.error('Provided instrumentation name "'+E+'" not found');continue}}for(var n=[],o=0,_=Object.keys(UE);o<_.length;o++){var i=_[o],S=UE[i],T=(e=r[i])!==null&&e!==void 0?e:{};if(T.enabled===!1){R.debug("Disabling instrumentation for "+i);continue}try{R.debug("Loading instrumentation for "+i),n.push(new S(T))}catch(A){R.error(A)}}return n}function Cp(r){let e={ignoreNetworkEvents:!0,propagateTraceHeaderCorsUrls:[]},t=r.endpoint||"https://api.honeycomb.io/v1/traces";new Jt({endpoint:t,debug:!1,apiKey:r.apiKey,serviceName:r.serviceName,instrumentations:[mE({"@opentelemetry/instrumentation-xml-http-request":e,"@opentelemetry/instrumentation-fetch":e,"@opentelemetry/instrumentation-document-load":e})]}).start(),Lp({endpoint:t,...r})}function Lp(r){let{endpoint:e,apiKey:t,serviceName:a}=r,E=new URL(e).origin,n=E+"/1/auth",o=E.replace("api","ui"),_=a||"unknown_service";fetch(n,{headers:{"X-Honeycomb-Team":t}}).then(i=>i.json()).then(i=>{let S=`${o}/${i.team.slug}/environments/${i.environment.slug}/datasets/${_}`;console.log(`Query your traces: ${S}`)})}window.Honeycomb={init:Cp};console.log("jess was here 2");})();
/*! Bundled license information:

tracekit/tracekit.js:
  (**
   * https://github.com/csnover/TraceKit
   * @license MIT
   * @namespace TraceKit
   *)
*/
